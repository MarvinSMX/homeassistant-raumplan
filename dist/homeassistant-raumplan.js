/**
 * @license
 * Copyright 2019 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */
const t=window,e=t.ShadowRoot&&(void 0===t.ShadyCSS||t.ShadyCSS.nativeShadow)&&"adoptedStyleSheets"in Document.prototype&&"replace"in CSSStyleSheet.prototype,n=Symbol(),i=new WeakMap;class o{constructor(t,e,i){if(this._$cssResult$=!0,i!==n)throw Error("CSSResult is not constructable. Use `unsafeCSS` or `css` instead.");this.cssText=t,this.t=e}get styleSheet(){let t=this.o;const n=this.t;if(e&&void 0===t){const e=void 0!==n&&1===n.length;e&&(t=i.get(n)),void 0===t&&((this.o=t=new CSSStyleSheet).replaceSync(this.cssText),e&&i.set(n,t))}return t}toString(){return this.cssText}}const r=(t,...e)=>{const i=1===t.length?t[0]:e.reduce((e,n,i)=>e+(t=>{if(!0===t._$cssResult$)return t.cssText;if("number"==typeof t)return t;throw Error("Value passed to 'css' function must be a 'css' function result: "+t+". Use 'unsafeCSS' to pass non-literal values, but take care to ensure page security.")})(n)+t[i+1],t[0]);return new o(i,t,n)},a=(n,i)=>{e?n.adoptedStyleSheets=i.map(t=>t instanceof CSSStyleSheet?t:t.styleSheet):i.forEach(e=>{const i=document.createElement("style"),o=t.litNonce;void 0!==o&&i.setAttribute("nonce",o),i.textContent=e.cssText,n.appendChild(i)})},s=e?t=>t:t=>t instanceof CSSStyleSheet?(t=>{let e="";for(const n of t.cssRules)e+=n.cssText;return(t=>new o("string"==typeof t?t:t+"",void 0,n))(e)})(t):t;
/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */
var l;const c=window,d=c.trustedTypes,u=d?d.emptyScript:"",h=c.reactiveElementPolyfillSupport,p={toAttribute(t,e){switch(e){case Boolean:t=t?u:null;break;case Object:case Array:t=null==t?t:JSON.stringify(t)}return t},fromAttribute(t,e){let n=t;switch(e){case Boolean:n=null!==t;break;case Number:n=null===t?null:Number(t);break;case Object:case Array:try{n=JSON.parse(t)}catch(t){n=null}}return n}},_=(t,e)=>e!==t&&(e==e||t==t),f={attribute:!0,type:String,converter:p,reflect:!1,hasChanged:_},m="finalized";class g extends HTMLElement{constructor(){super(),this._$Ei=new Map,this.isUpdatePending=!1,this.hasUpdated=!1,this._$El=null,this._$Eu()}static addInitializer(t){var e;this.finalize(),(null!==(e=this.h)&&void 0!==e?e:this.h=[]).push(t)}static get observedAttributes(){this.finalize();const t=[];return this.elementProperties.forEach((e,n)=>{const i=this._$Ep(n,e);void 0!==i&&(this._$Ev.set(i,n),t.push(i))}),t}static createProperty(t,e=f){if(e.state&&(e.attribute=!1),this.finalize(),this.elementProperties.set(t,e),!e.noAccessor&&!this.prototype.hasOwnProperty(t)){const n="symbol"==typeof t?Symbol():"__"+t,i=this.getPropertyDescriptor(t,n,e);void 0!==i&&Object.defineProperty(this.prototype,t,i)}}static getPropertyDescriptor(t,e,n){return{get(){return this[e]},set(i){const o=this[t];this[e]=i,this.requestUpdate(t,o,n)},configurable:!0,enumerable:!0}}static getPropertyOptions(t){return this.elementProperties.get(t)||f}static finalize(){if(this.hasOwnProperty(m))return!1;this[m]=!0;const t=Object.getPrototypeOf(this);if(t.finalize(),void 0!==t.h&&(this.h=[...t.h]),this.elementProperties=new Map(t.elementProperties),this._$Ev=new Map,this.hasOwnProperty("properties")){const t=this.properties,e=[...Object.getOwnPropertyNames(t),...Object.getOwnPropertySymbols(t)];for(const n of e)this.createProperty(n,t[n])}return this.elementStyles=this.finalizeStyles(this.styles),!0}static finalizeStyles(t){const e=[];if(Array.isArray(t)){const n=new Set(t.flat(1/0).reverse());for(const t of n)e.unshift(s(t))}else void 0!==t&&e.push(s(t));return e}static _$Ep(t,e){const n=e.attribute;return!1===n?void 0:"string"==typeof n?n:"string"==typeof t?t.toLowerCase():void 0}_$Eu(){var t;this._$E_=new Promise(t=>this.enableUpdating=t),this._$AL=new Map,this._$Eg(),this.requestUpdate(),null===(t=this.constructor.h)||void 0===t||t.forEach(t=>t(this))}addController(t){var e,n;(null!==(e=this._$ES)&&void 0!==e?e:this._$ES=[]).push(t),void 0!==this.renderRoot&&this.isConnected&&(null===(n=t.hostConnected)||void 0===n||n.call(t))}removeController(t){var e;null===(e=this._$ES)||void 0===e||e.splice(this._$ES.indexOf(t)>>>0,1)}_$Eg(){this.constructor.elementProperties.forEach((t,e)=>{this.hasOwnProperty(e)&&(this._$Ei.set(e,this[e]),delete this[e])})}createRenderRoot(){var t;const e=null!==(t=this.shadowRoot)&&void 0!==t?t:this.attachShadow(this.constructor.shadowRootOptions);return a(e,this.constructor.elementStyles),e}connectedCallback(){var t;void 0===this.renderRoot&&(this.renderRoot=this.createRenderRoot()),this.enableUpdating(!0),null===(t=this._$ES)||void 0===t||t.forEach(t=>{var e;return null===(e=t.hostConnected)||void 0===e?void 0:e.call(t)})}enableUpdating(t){}disconnectedCallback(){var t;null===(t=this._$ES)||void 0===t||t.forEach(t=>{var e;return null===(e=t.hostDisconnected)||void 0===e?void 0:e.call(t)})}attributeChangedCallback(t,e,n){this._$AK(t,n)}_$EO(t,e,n=f){var i;const o=this.constructor._$Ep(t,n);if(void 0!==o&&!0===n.reflect){const r=(void 0!==(null===(i=n.converter)||void 0===i?void 0:i.toAttribute)?n.converter:p).toAttribute(e,n.type);this._$El=t,null==r?this.removeAttribute(o):this.setAttribute(o,r),this._$El=null}}_$AK(t,e){var n;const i=this.constructor,o=i._$Ev.get(t);if(void 0!==o&&this._$El!==o){const t=i.getPropertyOptions(o),r="function"==typeof t.converter?{fromAttribute:t.converter}:void 0!==(null===(n=t.converter)||void 0===n?void 0:n.fromAttribute)?t.converter:p;this._$El=o,this[o]=r.fromAttribute(e,t.type),this._$El=null}}requestUpdate(t,e,n){let i=!0;void 0!==t&&(((n=n||this.constructor.getPropertyOptions(t)).hasChanged||_)(this[t],e)?(this._$AL.has(t)||this._$AL.set(t,e),!0===n.reflect&&this._$El!==t&&(void 0===this._$EC&&(this._$EC=new Map),this._$EC.set(t,n))):i=!1),!this.isUpdatePending&&i&&(this._$E_=this._$Ej())}async _$Ej(){this.isUpdatePending=!0;try{await this._$E_}catch(t){Promise.reject(t)}const t=this.scheduleUpdate();return null!=t&&await t,!this.isUpdatePending}scheduleUpdate(){return this.performUpdate()}performUpdate(){var t;if(!this.isUpdatePending)return;this.hasUpdated,this._$Ei&&(this._$Ei.forEach((t,e)=>this[e]=t),this._$Ei=void 0);let e=!1;const n=this._$AL;try{e=this.shouldUpdate(n),e?(this.willUpdate(n),null===(t=this._$ES)||void 0===t||t.forEach(t=>{var e;return null===(e=t.hostUpdate)||void 0===e?void 0:e.call(t)}),this.update(n)):this._$Ek()}catch(t){throw e=!1,this._$Ek(),t}e&&this._$AE(n)}willUpdate(t){}_$AE(t){var e;null===(e=this._$ES)||void 0===e||e.forEach(t=>{var e;return null===(e=t.hostUpdated)||void 0===e?void 0:e.call(t)}),this.hasUpdated||(this.hasUpdated=!0,this.firstUpdated(t)),this.updated(t)}_$Ek(){this._$AL=new Map,this.isUpdatePending=!1}get updateComplete(){return this.getUpdateComplete()}getUpdateComplete(){return this._$E_}shouldUpdate(t){return!0}update(t){void 0!==this._$EC&&(this._$EC.forEach((t,e)=>this._$EO(e,this[e],t)),this._$EC=void 0),this._$Ek()}updated(t){}firstUpdated(t){}}
/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */
var v;g[m]=!0,g.elementProperties=new Map,g.elementStyles=[],g.shadowRootOptions={mode:"open"},null==h||h({ReactiveElement:g}),(null!==(l=c.reactiveElementVersions)&&void 0!==l?l:c.reactiveElementVersions=[]).push("1.6.3");const y=window,b=y.trustedTypes,w=b?b.createPolicy("lit-html",{createHTML:t=>t}):void 0,x="$lit$",$=`lit$${(Math.random()+"").slice(9)}$`,k="?"+$,A=`<${k}>`,E=document,S=()=>E.createComment(""),C=t=>null===t||"object"!=typeof t&&"function"!=typeof t,M=Array.isArray,z=t=>M(t)||"function"==typeof(null==t?void 0:t[Symbol.iterator]),N="[ \t\n\f\r]",P=/<(?:(!--|\/[^a-zA-Z])|(\/?[a-zA-Z][^>\s]*)|(\/?$))/g,H=/-->/g,T=/>/g,R=RegExp(`>|${N}(?:([^\\s"'>=/]+)(${N}*=${N}*(?:[^ \t\n\f\r"'\`<>=]|("|')|))|$)`,"g"),U=/'/g,O=/"/g,I=/^(?:script|style|textarea|title)$/i,j=t=>(e,...n)=>({_$litType$:t,strings:e,values:n}),L=j(1),D=(j(2),Symbol.for("lit-noChange")),B=Symbol.for("lit-nothing"),W=new WeakMap,F=E.createTreeWalker(E,129,null,!1);function Z(t,e){if(!Array.isArray(t)||!t.hasOwnProperty("raw"))throw Error("invalid template strings array");return void 0!==w?w.createHTML(e):e}const V=(t,e)=>{const n=t.length-1,i=[];let o,r=2===e?"<svg>":"",a=P;for(let e=0;e<n;e++){const n=t[e];let s,l,c=-1,d=0;for(;d<n.length&&(a.lastIndex=d,l=a.exec(n),null!==l);)d=a.lastIndex,a===P?"!--"===l[1]?a=H:void 0!==l[1]?a=T:void 0!==l[2]?(I.test(l[2])&&(o=RegExp("</"+l[2],"g")),a=R):void 0!==l[3]&&(a=R):a===R?">"===l[0]?(a=null!=o?o:P,c=-1):void 0===l[1]?c=-2:(c=a.lastIndex-l[2].length,s=l[1],a=void 0===l[3]?R:'"'===l[3]?O:U):a===O||a===U?a=R:a===H||a===T?a=P:(a=R,o=void 0);const u=a===R&&t[e+1].startsWith("/>")?" ":"";r+=a===P?n+A:c>=0?(i.push(s),n.slice(0,c)+x+n.slice(c)+$+u):n+$+(-2===c?(i.push(void 0),e):u)}return[Z(t,r+(t[n]||"<?>")+(2===e?"</svg>":"")),i]};class q{constructor({strings:t,_$litType$:e},n){let i;this.parts=[];let o=0,r=0;const a=t.length-1,s=this.parts,[l,c]=V(t,e);if(this.el=q.createElement(l,n),F.currentNode=this.el.content,2===e){const t=this.el.content,e=t.firstChild;e.remove(),t.append(...e.childNodes)}for(;null!==(i=F.nextNode())&&s.length<a;){if(1===i.nodeType){if(i.hasAttributes()){const t=[];for(const e of i.getAttributeNames())if(e.endsWith(x)||e.startsWith($)){const n=c[r++];if(t.push(e),void 0!==n){const t=i.getAttribute(n.toLowerCase()+x).split($),e=/([.?@])?(.*)/.exec(n);s.push({type:1,index:o,name:e[2],strings:t,ctor:"."===e[1]?Y:"?"===e[1]?tt:"@"===e[1]?et:X})}else s.push({type:6,index:o})}for(const e of t)i.removeAttribute(e)}if(I.test(i.tagName)){const t=i.textContent.split($),e=t.length-1;if(e>0){i.textContent=b?b.emptyScript:"";for(let n=0;n<e;n++)i.append(t[n],S()),F.nextNode(),s.push({type:2,index:++o});i.append(t[e],S())}}}else if(8===i.nodeType)if(i.data===k)s.push({type:2,index:o});else{let t=-1;for(;-1!==(t=i.data.indexOf($,t+1));)s.push({type:7,index:o}),t+=$.length-1}o++}}static createElement(t,e){const n=E.createElement("template");return n.innerHTML=t,n}}function K(t,e,n=t,i){var o,r,a,s;if(e===D)return e;let l=void 0!==i?null===(o=n._$Co)||void 0===o?void 0:o[i]:n._$Cl;const c=C(e)?void 0:e._$litDirective$;return(null==l?void 0:l.constructor)!==c&&(null===(r=null==l?void 0:l._$AO)||void 0===r||r.call(l,!1),void 0===c?l=void 0:(l=new c(t),l._$AT(t,n,i)),void 0!==i?(null!==(a=(s=n)._$Co)&&void 0!==a?a:s._$Co=[])[i]=l:n._$Cl=l),void 0!==l&&(e=K(t,l._$AS(t,e.values),l,i)),e}class G{constructor(t,e){this._$AV=[],this._$AN=void 0,this._$AD=t,this._$AM=e}get parentNode(){return this._$AM.parentNode}get _$AU(){return this._$AM._$AU}u(t){var e;const{el:{content:n},parts:i}=this._$AD,o=(null!==(e=null==t?void 0:t.creationScope)&&void 0!==e?e:E).importNode(n,!0);F.currentNode=o;let r=F.nextNode(),a=0,s=0,l=i[0];for(;void 0!==l;){if(a===l.index){let e;2===l.type?e=new J(r,r.nextSibling,this,t):1===l.type?e=new l.ctor(r,l.name,l.strings,this,t):6===l.type&&(e=new nt(r,this,t)),this._$AV.push(e),l=i[++s]}a!==(null==l?void 0:l.index)&&(r=F.nextNode(),a++)}return F.currentNode=E,o}v(t){let e=0;for(const n of this._$AV)void 0!==n&&(void 0!==n.strings?(n._$AI(t,n,e),e+=n.strings.length-2):n._$AI(t[e])),e++}}class J{constructor(t,e,n,i){var o;this.type=2,this._$AH=B,this._$AN=void 0,this._$AA=t,this._$AB=e,this._$AM=n,this.options=i,this._$Cp=null===(o=null==i?void 0:i.isConnected)||void 0===o||o}get _$AU(){var t,e;return null!==(e=null===(t=this._$AM)||void 0===t?void 0:t._$AU)&&void 0!==e?e:this._$Cp}get parentNode(){let t=this._$AA.parentNode;const e=this._$AM;return void 0!==e&&11===(null==t?void 0:t.nodeType)&&(t=e.parentNode),t}get startNode(){return this._$AA}get endNode(){return this._$AB}_$AI(t,e=this){t=K(this,t,e),C(t)?t===B||null==t||""===t?(this._$AH!==B&&this._$AR(),this._$AH=B):t!==this._$AH&&t!==D&&this._(t):void 0!==t._$litType$?this.g(t):void 0!==t.nodeType?this.$(t):z(t)?this.T(t):this._(t)}k(t){return this._$AA.parentNode.insertBefore(t,this._$AB)}$(t){this._$AH!==t&&(this._$AR(),this._$AH=this.k(t))}_(t){this._$AH!==B&&C(this._$AH)?this._$AA.nextSibling.data=t:this.$(E.createTextNode(t)),this._$AH=t}g(t){var e;const{values:n,_$litType$:i}=t,o="number"==typeof i?this._$AC(t):(void 0===i.el&&(i.el=q.createElement(Z(i.h,i.h[0]),this.options)),i);if((null===(e=this._$AH)||void 0===e?void 0:e._$AD)===o)this._$AH.v(n);else{const t=new G(o,this),e=t.u(this.options);t.v(n),this.$(e),this._$AH=t}}_$AC(t){let e=W.get(t.strings);return void 0===e&&W.set(t.strings,e=new q(t)),e}T(t){M(this._$AH)||(this._$AH=[],this._$AR());const e=this._$AH;let n,i=0;for(const o of t)i===e.length?e.push(n=new J(this.k(S()),this.k(S()),this,this.options)):n=e[i],n._$AI(o),i++;i<e.length&&(this._$AR(n&&n._$AB.nextSibling,i),e.length=i)}_$AR(t=this._$AA.nextSibling,e){var n;for(null===(n=this._$AP)||void 0===n||n.call(this,!1,!0,e);t&&t!==this._$AB;){const e=t.nextSibling;t.remove(),t=e}}setConnected(t){var e;void 0===this._$AM&&(this._$Cp=t,null===(e=this._$AP)||void 0===e||e.call(this,t))}}class X{constructor(t,e,n,i,o){this.type=1,this._$AH=B,this._$AN=void 0,this.element=t,this.name=e,this._$AM=i,this.options=o,n.length>2||""!==n[0]||""!==n[1]?(this._$AH=Array(n.length-1).fill(new String),this.strings=n):this._$AH=B}get tagName(){return this.element.tagName}get _$AU(){return this._$AM._$AU}_$AI(t,e=this,n,i){const o=this.strings;let r=!1;if(void 0===o)t=K(this,t,e,0),r=!C(t)||t!==this._$AH&&t!==D,r&&(this._$AH=t);else{const i=t;let a,s;for(t=o[0],a=0;a<o.length-1;a++)s=K(this,i[n+a],e,a),s===D&&(s=this._$AH[a]),r||(r=!C(s)||s!==this._$AH[a]),s===B?t=B:t!==B&&(t+=(null!=s?s:"")+o[a+1]),this._$AH[a]=s}r&&!i&&this.j(t)}j(t){t===B?this.element.removeAttribute(this.name):this.element.setAttribute(this.name,null!=t?t:"")}}class Y extends X{constructor(){super(...arguments),this.type=3}j(t){this.element[this.name]=t===B?void 0:t}}const Q=b?b.emptyScript:"";class tt extends X{constructor(){super(...arguments),this.type=4}j(t){t&&t!==B?this.element.setAttribute(this.name,Q):this.element.removeAttribute(this.name)}}class et extends X{constructor(t,e,n,i,o){super(t,e,n,i,o),this.type=5}_$AI(t,e=this){var n;if((t=null!==(n=K(this,t,e,0))&&void 0!==n?n:B)===D)return;const i=this._$AH,o=t===B&&i!==B||t.capture!==i.capture||t.once!==i.once||t.passive!==i.passive,r=t!==B&&(i===B||o);o&&this.element.removeEventListener(this.name,this,i),r&&this.element.addEventListener(this.name,this,t),this._$AH=t}handleEvent(t){var e,n;"function"==typeof this._$AH?this._$AH.call(null!==(n=null===(e=this.options)||void 0===e?void 0:e.host)&&void 0!==n?n:this.element,t):this._$AH.handleEvent(t)}}class nt{constructor(t,e,n){this.element=t,this.type=6,this._$AN=void 0,this._$AM=e,this.options=n}get _$AU(){return this._$AM._$AU}_$AI(t){K(this,t)}}const it=y.litHtmlPolyfillSupport;null==it||it(q,J),(null!==(v=y.litHtmlVersions)&&void 0!==v?v:y.litHtmlVersions=[]).push("2.8.0");var ot,rt;
/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */class at extends g{constructor(){super(...arguments),this.renderOptions={host:this},this._$Do=void 0}createRenderRoot(){var t,e;const n=super.createRenderRoot();return null!==(t=(e=this.renderOptions).renderBefore)&&void 0!==t||(e.renderBefore=n.firstChild),n}update(t){const e=this.render();this.hasUpdated||(this.renderOptions.isConnected=this.isConnected),super.update(t),this._$Do=((t,e,n)=>{var i,o;const r=null!==(i=null==n?void 0:n.renderBefore)&&void 0!==i?i:e;let a=r._$litPart$;if(void 0===a){const t=null!==(o=null==n?void 0:n.renderBefore)&&void 0!==o?o:null;r._$litPart$=a=new J(e.insertBefore(S(),t),t,void 0,null!=n?n:{})}return a._$AI(t),a})(e,this.renderRoot,this.renderOptions)}connectedCallback(){var t;super.connectedCallback(),null===(t=this._$Do)||void 0===t||t.setConnected(!0)}disconnectedCallback(){var t;super.disconnectedCallback(),null===(t=this._$Do)||void 0===t||t.setConnected(!1)}render(){return D}}at.finalized=!0,at._$litElement$=!0,null===(ot=globalThis.litElementHydrateSupport)||void 0===ot||ot.call(globalThis,{LitElement:at});const st=globalThis.litElementPolyfillSupport;null==st||st({LitElement:at});(null!==(rt=globalThis.litElementVersions)&&void 0!==rt?rt:globalThis.litElementVersions=[]).push("3.3.3");
/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */
const lt=(t,e)=>"method"===e.kind&&e.descriptor&&!("value"in e.descriptor)?{...e,finisher(n){n.createProperty(e.key,t)}}:{kind:"field",key:Symbol(),placement:"own",descriptor:{},originalKey:e.key,initializer(){"function"==typeof e.initializer&&(this[e.key]=e.initializer.call(this))},finisher(n){n.createProperty(e.key,t)}};function ct(t){return(e,n)=>void 0!==n?((t,e,n)=>{e.constructor.createProperty(n,t)})(t,e,n):lt(t,e)}var dt;
/**
 * @license
 * Copyright 2021 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */null===(dt=window.HTMLSlotElement)||void 0===dt||dt.prototype.assignedElements;var ut,ht;!function(t){t.language="language",t.system="system",t.comma_decimal="comma_decimal",t.decimal_comma="decimal_comma",t.space_comma="space_comma",t.none="none"}(ut||(ut={})),function(t){t.language="language",t.system="system",t.am_pm="12",t.twenty_four="24"}(ht||(ht={}));function pt(t){return t.substr(0,t.indexOf("."))}var _t=["closed","locked","off"],ft=(new Set(["fan","input_boolean","light","switch","group","automation"]),function(t,e,n,i){i=i||{},n=null==n?{}:n;var o=new Event(e,{bubbles:void 0===i.bubbles||i.bubbles,cancelable:Boolean(i.cancelable),composed:void 0===i.composed||i.composed});return o.detail=n,t.dispatchEvent(o),o});new Set(["call-service","divider","section","weblink","cast","select"]);var mt=function(t){ft(window,"haptic",t)},gt=function(t,e,n){void 0===n&&(n=!1),n?history.replaceState(null,"",e):history.pushState(null,"",e),ft(window,"location-changed",{replace:n})},vt=function(t,e){return function(t,e,n){void 0===n&&(n=!0);var i,o=pt(e),r="group"===o?"homeassistant":o;switch(o){case"lock":i=n?"unlock":"lock";break;case"cover":i=n?"open_cover":"close_cover";break;default:i=n?"turn_on":"turn_off"}return t.callService(r,i,{entity_id:e})}(t,e,_t.includes(t.states[e].state))},yt=function(t,e,n,i){var o;"double_tap"===i&&n.double_tap_action?o=n.double_tap_action:"hold"===i&&n.hold_action?o=n.hold_action:"tap"===i&&n.tap_action&&(o=n.tap_action),function(t,e,n,i){if(i||(i={action:"more-info"}),!i.confirmation||i.confirmation.exemptions&&i.confirmation.exemptions.some(function(t){return t.user===e.user.id})||(mt("warning"),confirm(i.confirmation.text||"Are you sure you want to "+i.action+"?")))switch(i.action){case"more-info":(n.entity||n.camera_image)&&ft(t,"hass-more-info",{entityId:n.entity?n.entity:n.camera_image});break;case"navigate":i.navigation_path&&gt(0,i.navigation_path);break;case"url":i.url_path&&window.open(i.url_path);break;case"toggle":n.entity&&(vt(e,n.entity),mt("success"));break;case"call-service":if(!i.service)return void mt("failure");var o=i.service.split(".",2);e.callService(o[0],o[1],i.service_data,i.target),mt("success");break;case"fire-dom-event":ft(t,"ll-custom",i)}}(t,e,n,o)};function bt(t){return void 0!==t&&"none"!==t.action}function wt(t,e){return t?.states?.[e]?.attributes?.friendly_name||e}var xt=function(t,e,n,i){var o,r=arguments.length,a=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,i);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(r<3?o(a):r>3?o(e,n,a):o(e,n))||a);return r>3&&a&&Object.defineProperty(e,n,a),a};let $t=class extends at{constructor(){super(...arguments),this._config={type:"",image:"",entities:[]}}setConfig(t){const e=t??{type:"",image:"",entities:[]},n="string"==typeof e.image?e.image:e.image?.location??"";this._config={...e,image:n,entities:Array.isArray(e.entities)?[...e.entities]:[],entity_filter:Array.isArray(e.entity_filter)?e.entity_filter:void 0,temperature_zones:Array.isArray(e.temperature_zones)?[...e.temperature_zones]:void 0,alert_entities:Array.isArray(e.alert_entities)?e.alert_entities:void 0,alert_badge_action:e.alert_badge_action,image_dark:e.image_dark,dark_mode_filter:e.dark_mode_filter,dark_mode:e.dark_mode}}_emitConfig(){ft(this,"config-changed",{config:this._config})}_updateConfig(t){this._config={...this._config,...t},this._emitConfig()}_updateEntity(t,e){const n=[...this._config.entities??[]];n[t]={...n[t],...e},this._updateConfig({entities:n})}_removeEntity(t){const e=[...this._config.entities??[]];e.splice(t,1),this._updateConfig({entities:e})}_addEntity(){const t=[...this._config.entities??[],{entity:"",x:50,y:50}];this._updateConfig({entities:t})}_updateHeatmapZone(t,e){const n=[...this._config.temperature_zones??[]];n[t]={...n[t],...e},this._updateConfig({temperature_zones:n})}_removeHeatmapZone(t){const e=[...this._config.temperature_zones??[]];e.splice(t,1),this._updateConfig({temperature_zones:e.length?e:void 0})}_addHeatmapZone(){const t=[...this._config.temperature_zones??[],{entity:"",x1:10,y1:10,x2:40,y2:40}];this._updateConfig({temperature_zones:t})}_updateAlertEntity(t,e){const n=[...this._config.alert_entities??[]];n[t]=e.trim(),this._updateConfig({alert_entities:n})}_removeAlertEntity(t){const e=[...this._config.alert_entities??[]];e.splice(t,1),this._updateConfig({alert_entities:e.length?e:void 0})}_addAlertEntity(){const t=[...this._config.alert_entities??[],""];this._updateConfig({alert_entities:t})}render(){const t="string"==typeof this._config.image?this._config.image:"",e=this._config.title??"",n=Number(this._config.rotation)??0,i=this._config.entities??[],o=this.hass?.states?Object.keys(this.hass.states).sort():[];return L`
      <div class="editor">
        <section class="editor-section">
          <h4 class="section-title"><ha-icon icon="mdi:image"></ha-icon> Bild</h4>
          <div class="field">
            <label>Bild-URL</label>
            <input type="text" .value=${t} placeholder="/local/raumplan.png"
              @change=${t=>this._updateConfig({image:t.target.value.trim()})} />
            <span class="hint">Bild unter <code>config/www/</code> speichern, dann <code>/local/dateiname.png</code> angeben.</span>
          </div>
          <div class="field-row">
            <div class="field">
              <label>Titel</label>
              <input type="text" .value=${e} placeholder="Optional" @change=${t=>this._updateConfig({title:t.target.value.trim()})} />
            </div>
            <div class="field">
              <label>Drehung</label>
              <select .value=${String(n)} @change=${t=>this._updateConfig({rotation:Number(t.target.value)})}>
                <option value="0">0°</option><option value="90">90°</option><option value="180">180°</option><option value="270">270°</option>
              </select>
            </div>
          </div>
          <div class="field">
            <label>Dark Mode</label>
            <select .value=${!0===this._config.dark_mode?"dark":!1===this._config.dark_mode?"light":"auto"}
              @change=${t=>{const e=t.target.value;this._updateConfig({dark_mode:"auto"===e?void 0:"dark"===e})}}>
              <option value="auto">Auto (System/Theme)</option>
              <option value="light">Immer Hell</option>
              <option value="dark">Immer Dunkel</option>
            </select>
            <span class="hint">Auto nutzt die Systemeinstellung (prefers-color-scheme).</span>
          </div>
          <div class="field">
            <label>Bild-URL (Dark Mode, optional)</label>
            <input type="text" .value=${this._config.image_dark??""} placeholder="z. B. /local/raumplan_dark.svg"
              @change=${t=>this._updateConfig({image_dark:t.target.value.trim()||void 0})} />
            <span class="hint">Anderes Bild bei Dark Mode (z. B. invertierte SVG).</span>
          </div>
          <div class="field">
            <label>CSS-Filter (Dark Mode, optional)</label>
            <input type="text" .value=${this._config.dark_mode_filter??""} placeholder="z. B. brightness(0.88) contrast(1.05)"
              @change=${t=>this._updateConfig({dark_mode_filter:t.target.value.trim()||void 0})} />
            <span class="hint">Standard bei Auto: leichte Abdunklung. Für Inversion: <code>invert(1)</code>.</span>
          </div>
        </section>
        <section class="editor-section">
          <h4 class="section-title"><ha-icon icon="mdi:map-marker"></ha-icon> Entitäten</h4>
          <p class="section-hint">X/Y = Position (0–100), Skalierung, Icon optional (z.B. mdi:lightbulb).</p>
          <div class="entity-list">
            ${i.map((t,e)=>L`
              <div class="entity-row">
                <input type="text" list="rp-entities-${e}" .value=${t.entity} placeholder="light.wohnzimmer"
                  @change=${t=>this._updateEntity(e,{entity:t.target.value.trim()})} />
                <datalist id="rp-entities-${e}">
                  ${o.slice(0,200).map(t=>L`<option value="${t}">${wt(this.hass,t)}</option>`)}
                </datalist>
                <input type="text" class="entity-icon" .value=${t.icon??""} placeholder="Icon (mdi:...)"
                  title="Icon (optional)"
                  @change=${t=>{const n=t.target.value.trim();this._updateEntity(e,{icon:n||void 0})}} />
                <select class="entity-preset" title="Preset"
                  .value=${t.preset??"default"}
                  @change=${t=>this._updateEntity(e,{preset:t.target.value})}>
                  <option value="default">Standard</option>
                  <option value="temperature">Temperatur</option>
                </select>
                <div class="entity-coords">
                  <input type="number" min="0" max="100" step="0.1" .value=${String(Number(t.x)||50)} title="X (%)"
                    @change=${t=>this._updateEntity(e,{x:Math.min(100,Math.max(0,Number(t.target.value)||50))})} />
                  <input type="number" min="0" max="100" step="0.1" .value=${String(Number(t.y)||50)} title="Y (%)"
                    @change=${t=>this._updateEntity(e,{y:Math.min(100,Math.max(0,Number(t.target.value)||50))})} />
                </div>
                <input type="number" class="entity-scale" min="0.3" max="2" step="0.1" .value=${String(Math.min(2,Math.max(.3,Number(t.scale)||1)))} title="Skalierung"
                  @change=${t=>this._updateEntity(e,{scale:Math.min(2,Math.max(.3,Number(t.target.value)||1))})} />
                <input type="color" .value=${t.color||"#03a9f4"} title="Farbe"
                  @change=${n=>{const i=n.target.value;this._updateEntity(e,{color:"#03a9f4"!==i||t.color?i:void 0})}} />
                <input type="number" class="entity-opacity" min="0" max="1" step="0.1" .value=${String(Math.min(1,Math.max(0,Number(t.background_opacity)??1)))} title="Deckkraft"
                  @change=${t=>this._updateEntity(e,{background_opacity:Math.min(1,Math.max(0,Number(t.target.value)||1))})} />
                <label class="entity-check">
                  <input type="checkbox" .checked=${!!t.show_value} title="Wert anzeigen"
                    @change=${t=>this._updateEntity(e,{show_value:t.target.checked})} />
                  Wert
                </label>
                <button type="button" class="btn-remove" @click=${()=>this._removeEntity(e)} title="Entfernen">
                  <ha-icon icon="mdi:delete-outline"></ha-icon>
                </button>
              </div>
            `)}
          </div>
          <button type="button" class="btn-add" @click=${this._addEntity}>
            <ha-icon icon="mdi:plus"></ha-icon> Entität hinzufügen
          </button>
        </section>
        <section class="editor-section">
          <h4 class="section-title"><ha-icon icon="mdi:thermometer"></ha-icon> Temperatur-Heatmap</h4>
          <p class="section-hint">Fläche durch 2 Punkte (x1,y1) und (x2,y2) in %. Eine Temperatur-Entität färbt die Zone (blau &lt;18°C, orange, rot ≥24°C).</p>
          <div class="entity-list">
            ${(this._config.temperature_zones??[]).map((t,e)=>L`
              <div class="entity-row heatmap-row">
                <input type="text" list="rp-heatmap-${e}" .value=${t.entity} placeholder="sensor.temperatur_raum"
                  @change=${t=>this._updateHeatmapZone(e,{entity:t.target.value.trim()})} />
                <datalist id="rp-heatmap-${e}">
                  ${o.slice(0,200).map(t=>L`<option value="${t}">${wt(this.hass,t)}</option>`)}
                </datalist>
                <div class="entity-coords" title="Punkt 1 (x,y)">
                  <input type="number" min="0" max="100" step="1" .value=${String(Number(t.x1)??0)} placeholder="x1"
                    @change=${t=>this._updateHeatmapZone(e,{x1:Math.min(100,Math.max(0,Number(t.target.value)||0))})} />
                  <input type="number" min="0" max="100" step="1" .value=${String(Number(t.y1)??0)} placeholder="y1"
                    @change=${t=>this._updateHeatmapZone(e,{y1:Math.min(100,Math.max(0,Number(t.target.value)||0))})} />
                </div>
                <div class="entity-coords" title="Punkt 2 (x,y)">
                  <input type="number" min="0" max="100" step="1" .value=${String(Number(t.x2)??100)} placeholder="x2"
                    @change=${t=>this._updateHeatmapZone(e,{x2:Math.min(100,Math.max(0,Number(t.target.value)||100))})} />
                  <input type="number" min="0" max="100" step="1" .value=${String(Number(t.y2)??100)} placeholder="y2"
                    @change=${t=>this._updateHeatmapZone(e,{y2:Math.min(100,Math.max(0,Number(t.target.value)||100))})} />
                </div>
                <input type="number" class="entity-opacity" min="0" max="1" step="0.1" .value=${String(Math.min(1,Math.max(0,Number(t.opacity)??.4)))} title="Deckkraft"
                  @change=${t=>this._updateHeatmapZone(e,{opacity:Math.min(1,Math.max(0,Number(t.target.value)||.4))})} />
                <button type="button" class="btn-remove" @click=${()=>this._removeHeatmapZone(e)} title="Zone entfernen">
                  <ha-icon icon="mdi:delete-outline"></ha-icon>
                </button>
              </div>
            `)}
          </div>
          <button type="button" class="btn-add" @click=${this._addHeatmapZone}>
            <ha-icon icon="mdi:plus"></ha-icon> Heatmap-Zone hinzufügen
          </button>
        </section>
        <section class="editor-section">
          <h4 class="section-title"><ha-icon icon="mdi:bell-badge-outline"></ha-icon> Meldungen (Badge)</h4>
          <p class="section-hint">Entitäten für das Meldungs-Badge (z. B. Rauchmelder). Badge erscheint rechts in der Tab-Leiste, zeigt die Anzahl aktiver Meldungen (state on/triggered).</p>
          <div class="entity-list">
            ${(this._config.alert_entities??[]).map((t,e)=>L`
              <div class="entity-row">
                <input type="text" list="rp-alert-${e}" .value=${t} placeholder="binary_sensor.smoke_wohnzimmer"
                  @change=${t=>this._updateAlertEntity(e,t.target.value)} />
                <datalist id="rp-alert-${e}">
                  ${o.slice(0,200).map(t=>L`<option value="${t}">${wt(this.hass,t)}</option>`)}
                </datalist>
                <button type="button" class="btn-remove" @click=${()=>this._removeAlertEntity(e)} title="Entfernen">
                  <ha-icon icon="mdi:delete-outline"></ha-icon>
                </button>
              </div>
            `)}
          </div>
          <button type="button" class="btn-add" @click=${this._addAlertEntity}>
            <ha-icon icon="mdi:plus"></ha-icon> Meldungs-Entität hinzufügen
          </button>
        </section>
      </div>
    `}static get styles(){return r`
      :host {
        display: block;
        width: 100%;
        max-width: 100%;
        min-width: 0;
      }
      .editor {
        padding: clamp(12px, 3vw, 20px);
        max-width: 560px;
        width: 100%;
        box-sizing: border-box;
      }
      .editor * {
        box-sizing: border-box;
      }
      .editor-header {
        display: flex;
        align-items: center;
        gap: 12px;
        margin-bottom: 24px;
      }
      .editor-header ha-icon {
        color: var(--primary-color, #03a9f4);
        flex-shrink: 0;
      }
      .editor-header h3 {
        margin: 0;
        font-size: clamp(1rem, 2.5vw, 1.1rem);
        font-weight: 600;
        color: var(--primary-text-color);
      }
      .editor-section {
        margin-bottom: 28px;
      }
      .section-title {
        display: flex;
        align-items: center;
        gap: 10px;
        margin: 0 0 12px;
        font-size: clamp(0.9rem, 2.2vw, 0.95rem);
        font-weight: 600;
        color: var(--primary-text-color);
      }
      .section-title ha-icon {
        color: var(--primary-color, #03a9f4);
        flex-shrink: 0;
      }
      .section-hint {
        margin: 0 0 12px;
        font-size: clamp(0.8rem, 2vw, 0.85rem);
        color: var(--secondary-text-color);
        line-height: 1.4;
      }
      .field {
        margin-bottom: 16px;
      }
      .field-row {
        display: grid;
        grid-template-columns: 1fr auto;
        gap: 16px;
      }
      @media (max-width: 480px) {
        .field-row {
          grid-template-columns: 1fr;
        }
      }
      .field label {
        display: block;
        font-size: 0.8rem;
        font-weight: 500;
        color: var(--secondary-text-color);
        margin-bottom: 6px;
      }
      .field input,
      .field select {
        width: 100%;
        padding: 10px 14px;
        border: 1px solid var(--divider-color, rgba(255, 255, 255, 0.12));
        border-radius: 8px;
        background: var(--ha-card-background, #1e1e1e);
        color: var(--primary-text-color);
        font-size: clamp(14px, 3.5vw, 16px);
      }
      .field input:focus,
      .field select:focus {
        outline: none;
        border-color: var(--primary-color, #03a9f4);
      }
      .hint {
        display: block;
        font-size: 0.8rem;
        color: var(--secondary-text-color);
        margin-top: 6px;
      }
      .hint code {
        background: rgba(255, 255, 255, 0.1);
        padding: 2px 6px;
        border-radius: 4px;
        font-size: 0.75rem;
      }
      .entity-list {
        display: flex;
        flex-direction: column;
        gap: 10px;
      }
      .entity-row {
        display: flex;
        flex-wrap: wrap;
        align-items: center;
        gap: 10px;
        padding: 12px 14px;
        background: var(--ha-card-background, #1e1e1e);
        border: 1px solid var(--divider-color, rgba(255, 255, 255, 0.12));
        border-radius: 10px;
      }
      .entity-row input,
      .entity-row select,
      .entity-row button {
        padding: 8px 10px;
        border: 1px solid var(--divider-color, rgba(255, 255, 255, 0.12));
        border-radius: 8px;
        background: var(--ha-card-background, #1e1e1e);
        color: var(--primary-text-color, #e1e1e1);
        font-size: 14px;
        font-family: inherit;
      }
      .entity-row input:focus,
      .entity-row select:focus {
        outline: none;
        border-color: var(--primary-color, #03a9f4);
      }
      .entity-row input[list],
      .entity-row input[type='text'] {
        flex: 1 1 140px;
        min-width: 0;
      }
      .entity-row input.entity-icon {
        width: clamp(90px, 22vw, 120px);
      }
      .entity-row select.entity-preset {
        width: auto;
        min-width: 100px;
      }
      .entity-coords {
        display: flex;
        gap: 6px;
        flex-shrink: 0;
      }
      .entity-coords input {
        width: clamp(44px, 12vw, 52px);
      }
      .entity-row input.entity-scale {
        width: clamp(50px, 14vw, 60px);
      }
      .entity-row input.entity-opacity {
        width: 56px;
      }
      .entity-row .entity-check {
        display: inline-flex;
        align-items: center;
        gap: 6px;
        font-size: 0.85rem;
        color: var(--secondary-text-color);
        cursor: pointer;
        white-space: nowrap;
      }
      .entity-row .entity-check input[type='checkbox'] {
        width: auto;
        padding: 0;
      }
      .entity-row input[type='color'] {
        width: 36px;
        height: 36px;
        min-width: 36px;
        padding: 2px;
        cursor: pointer;
      }
      .btn-remove {
        padding: 8px 10px;
        border: none;
        border-radius: 8px;
        background: rgba(244, 67, 54, 0.15);
        color: #f44336;
        cursor: pointer;
        flex-shrink: 0;
      }
      .btn-remove:hover {
        background: rgba(244, 67, 54, 0.3);
      }
      .btn-add {
        padding: 12px 18px;
        width: 100%;
        margin-top: 12px;
        border: 2px dashed var(--divider-color, rgba(255, 255, 255, 0.12));
        border-radius: 10px;
        background: transparent;
        color: var(--primary-color, #03a9f4);
        font-size: clamp(13px, 3.2vw, 14px);
        font-weight: 500;
        cursor: pointer;
        display: flex;
        align-items: center;
        justify-content: center;
        gap: 8px;
      }
      .btn-add:hover {
        border-color: var(--primary-color, #03a9f4);
        background: rgba(3, 169, 244, 0.08);
      }
    `}};xt([ct({attribute:!1})],$t.prototype,"hass",void 0),xt([
/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */
function(t){return ct({...t,state:!0})}()],$t.prototype,"_config",void 0),$t=xt([(t=>e=>"function"==typeof e?((t,e)=>(customElements.define(t,e),e))(t,e):((t,e)=>{const{kind:n,elements:i}=e;return{kind:n,elements:i,finisher(e){customElements.define(t,e)}}})(t,e))("room-plan-editor")],$t);var kt,At,Et,St,Ct,Mt,zt,Nt,Pt,Ht,Tt,Rt={},Ut=[],Ot=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i,It=Array.isArray;function jt(t,e){for(var n in e)t[n]=e[n];return t}function Lt(t){t&&t.parentNode&&t.parentNode.removeChild(t)}function Dt(t,e,n){var i,o,r,a={};for(r in e)"key"==r?i=e[r]:"ref"==r?o=e[r]:a[r]=e[r];if(arguments.length>2&&(a.children=arguments.length>3?kt.call(arguments,2):n),"function"==typeof t&&null!=t.defaultProps)for(r in t.defaultProps)void 0===a[r]&&(a[r]=t.defaultProps[r]);return Bt(t,a,i,o,null)}function Bt(t,e,n,i,o){var r={type:t,props:e,key:n,ref:i,__k:null,__:null,__b:0,__e:null,__c:null,constructor:void 0,__v:null==o?++Et:o,__i:-1,__u:0};return null==o&&null!=At.vnode&&At.vnode(r),r}function Wt(t){return t.children}function Ft(t,e){this.props=t,this.context=e}function Zt(t,e){if(null==e)return t.__?Zt(t.__,t.__i+1):null;for(var n;e<t.__k.length;e++)if(null!=(n=t.__k[e])&&null!=n.__e)return n.__e;return"function"==typeof t.type?Zt(t):null}function Vt(t){var e,n;if(null!=(t=t.__)&&null!=t.__c){for(t.__e=t.__c.base=null,e=0;e<t.__k.length;e++)if(null!=(n=t.__k[e])&&null!=n.__e){t.__e=t.__c.base=n.__e;break}return Vt(t)}}function qt(t){(!t.__d&&(t.__d=!0)&&St.push(t)&&!Kt.__r++||Ct!=At.debounceRendering)&&((Ct=At.debounceRendering)||Mt)(Kt)}function Kt(){for(var t,e,n,i,o,r,a,s=1;St.length;)St.length>s&&St.sort(zt),t=St.shift(),s=St.length,t.__d&&(n=void 0,i=void 0,o=(i=(e=t).__v).__e,r=[],a=[],e.__P&&((n=jt({},i)).__v=i.__v+1,At.vnode&&At.vnode(n),ne(e.__P,n,i,e.__n,e.__P.namespaceURI,32&i.__u?[o]:null,r,null==o?Zt(i):o,!!(32&i.__u),a),n.__v=i.__v,n.__.__k[n.__i]=n,oe(r,n,a),i.__e=i.__=null,n.__e!=o&&Vt(n)));Kt.__r=0}function Gt(t,e,n,i,o,r,a,s,l,c,d){var u,h,p,_,f,m,g,v=i&&i.__k||Ut,y=e.length;for(l=function(t,e,n,i,o){var r,a,s,l,c,d=n.length,u=d,h=0;for(t.__k=new Array(o),r=0;r<o;r++)null!=(a=e[r])&&"boolean"!=typeof a&&"function"!=typeof a?("string"==typeof a||"number"==typeof a||"bigint"==typeof a||a.constructor==String?a=t.__k[r]=Bt(null,a,null,null,null):It(a)?a=t.__k[r]=Bt(Wt,{children:a},null,null,null):void 0===a.constructor&&a.__b>0?a=t.__k[r]=Bt(a.type,a.props,a.key,a.ref?a.ref:null,a.__v):t.__k[r]=a,l=r+h,a.__=t,a.__b=t.__b+1,s=null,-1!=(c=a.__i=Yt(a,n,l,u))&&(u--,(s=n[c])&&(s.__u|=2)),null==s||null==s.__v?(-1==c&&(o>d?h--:o<d&&h++),"function"!=typeof a.type&&(a.__u|=4)):c!=l&&(c==l-1?h--:c==l+1?h++:(c>l?h--:h++,a.__u|=4))):t.__k[r]=null;if(u)for(r=0;r<d;r++)null!=(s=n[r])&&!(2&s.__u)&&(s.__e==i&&(i=Zt(s)),se(s,s));return i}(n,e,v,l,y),u=0;u<y;u++)null!=(p=n.__k[u])&&(h=-1==p.__i?Rt:v[p.__i]||Rt,p.__i=u,m=ne(t,p,h,o,r,a,s,l,c,d),_=p.__e,p.ref&&h.ref!=p.ref&&(h.ref&&ae(h.ref,null,p),d.push(p.ref,p.__c||_,p)),null==f&&null!=_&&(f=_),(g=!!(4&p.__u))||h.__k===p.__k?l=Jt(p,l,t,g):"function"==typeof p.type&&void 0!==m?l=m:_&&(l=_.nextSibling),p.__u&=-7);return n.__e=f,l}function Jt(t,e,n,i){var o,r;if("function"==typeof t.type){for(o=t.__k,r=0;o&&r<o.length;r++)o[r]&&(o[r].__=t,e=Jt(o[r],e,n,i));return e}t.__e!=e&&(i&&(e&&t.type&&!e.parentNode&&(e=Zt(t)),n.insertBefore(t.__e,e||null)),e=t.__e);do{e=e&&e.nextSibling}while(null!=e&&8==e.nodeType);return e}function Xt(t,e){return e=e||[],null==t||"boolean"==typeof t||(It(t)?t.some(function(t){Xt(t,e)}):e.push(t)),e}function Yt(t,e,n,i){var o,r,a,s=t.key,l=t.type,c=e[n],d=null!=c&&!(2&c.__u);if(null===c&&null==s||d&&s==c.key&&l==c.type)return n;if(i>(d?1:0))for(o=n-1,r=n+1;o>=0||r<e.length;)if(null!=(c=e[a=o>=0?o--:r++])&&!(2&c.__u)&&s==c.key&&l==c.type)return a;return-1}function Qt(t,e,n){"-"==e[0]?t.setProperty(e,null==n?"":n):t[e]=null==n?"":"number"!=typeof n||Ot.test(e)?n:n+"px"}function te(t,e,n,i,o){var r,a;t:if("style"==e)if("string"==typeof n)t.style.cssText=n;else{if("string"==typeof i&&(t.style.cssText=i=""),i)for(e in i)n&&e in n||Qt(t.style,e,"");if(n)for(e in n)i&&n[e]==i[e]||Qt(t.style,e,n[e])}else if("o"==e[0]&&"n"==e[1])r=e!=(e=e.replace(Nt,"$1")),a=e.toLowerCase(),e=a in t||"onFocusOut"==e||"onFocusIn"==e?a.slice(2):e.slice(2),t.l||(t.l={}),t.l[e+r]=n,n?i?n.u=i.u:(n.u=Pt,t.addEventListener(e,r?Tt:Ht,r)):t.removeEventListener(e,r?Tt:Ht,r);else{if("http://www.w3.org/2000/svg"==o)e=e.replace(/xlink(H|:h)/,"h").replace(/sName$/,"s");else if("width"!=e&&"height"!=e&&"href"!=e&&"list"!=e&&"form"!=e&&"tabIndex"!=e&&"download"!=e&&"rowSpan"!=e&&"colSpan"!=e&&"role"!=e&&"popover"!=e&&e in t)try{t[e]=null==n?"":n;break t}catch(t){}"function"==typeof n||(null==n||!1===n&&"-"!=e[4]?t.removeAttribute(e):t.setAttribute(e,"popover"==e&&1==n?"":n))}}function ee(t){return function(e){if(this.l){var n=this.l[e.type+t];if(null==e.t)e.t=Pt++;else if(e.t<n.u)return;return n(At.event?At.event(e):e)}}}function ne(t,e,n,i,o,r,a,s,l,c){var d,u,h,p,_,f,m,g,v,y,b,w,x,$,k,A,E,S=e.type;if(void 0!==e.constructor)return null;128&n.__u&&(l=!!(32&n.__u),r=[s=e.__e=n.__e]),(d=At.__b)&&d(e);t:if("function"==typeof S)try{if(g=e.props,v="prototype"in S&&S.prototype.render,y=(d=S.contextType)&&i[d.__c],b=d?y?y.props.value:d.__:i,n.__c?m=(u=e.__c=n.__c).__=u.__E:(v?e.__c=u=new S(g,b):(e.__c=u=new Ft(g,b),u.constructor=S,u.render=le),y&&y.sub(u),u.state||(u.state={}),u.__n=i,h=u.__d=!0,u.__h=[],u._sb=[]),v&&null==u.__s&&(u.__s=u.state),v&&null!=S.getDerivedStateFromProps&&(u.__s==u.state&&(u.__s=jt({},u.__s)),jt(u.__s,S.getDerivedStateFromProps(g,u.__s))),p=u.props,_=u.state,u.__v=e,h)v&&null==S.getDerivedStateFromProps&&null!=u.componentWillMount&&u.componentWillMount(),v&&null!=u.componentDidMount&&u.__h.push(u.componentDidMount);else{if(v&&null==S.getDerivedStateFromProps&&g!==p&&null!=u.componentWillReceiveProps&&u.componentWillReceiveProps(g,b),e.__v==n.__v||!u.__e&&null!=u.shouldComponentUpdate&&!1===u.shouldComponentUpdate(g,u.__s,b)){for(e.__v!=n.__v&&(u.props=g,u.state=u.__s,u.__d=!1),e.__e=n.__e,e.__k=n.__k,e.__k.some(function(t){t&&(t.__=e)}),w=0;w<u._sb.length;w++)u.__h.push(u._sb[w]);u._sb=[],u.__h.length&&a.push(u);break t}null!=u.componentWillUpdate&&u.componentWillUpdate(g,u.__s,b),v&&null!=u.componentDidUpdate&&u.__h.push(function(){u.componentDidUpdate(p,_,f)})}if(u.context=b,u.props=g,u.__P=t,u.__e=!1,x=At.__r,$=0,v){for(u.state=u.__s,u.__d=!1,x&&x(e),d=u.render(u.props,u.state,u.context),k=0;k<u._sb.length;k++)u.__h.push(u._sb[k]);u._sb=[]}else do{u.__d=!1,x&&x(e),d=u.render(u.props,u.state,u.context),u.state=u.__s}while(u.__d&&++$<25);u.state=u.__s,null!=u.getChildContext&&(i=jt(jt({},i),u.getChildContext())),v&&!h&&null!=u.getSnapshotBeforeUpdate&&(f=u.getSnapshotBeforeUpdate(p,_)),A=d,null!=d&&d.type===Wt&&null==d.key&&(A=re(d.props.children)),s=Gt(t,It(A)?A:[A],e,n,i,o,r,a,s,l,c),u.base=e.__e,e.__u&=-161,u.__h.length&&a.push(u),m&&(u.__E=u.__=null)}catch(t){if(e.__v=null,l||null!=r)if(t.then){for(e.__u|=l?160:128;s&&8==s.nodeType&&s.nextSibling;)s=s.nextSibling;r[r.indexOf(s)]=null,e.__e=s}else{for(E=r.length;E--;)Lt(r[E]);ie(e)}else e.__e=n.__e,e.__k=n.__k,t.then||ie(e);At.__e(t,e,n)}else null==r&&e.__v==n.__v?(e.__k=n.__k,e.__e=n.__e):s=e.__e=function(t,e,n,i,o,r,a,s,l){var c,d,u,h,p,_,f,m=n.props||Rt,g=e.props,v=e.type;if("svg"==v?o="http://www.w3.org/2000/svg":"math"==v?o="http://www.w3.org/1998/Math/MathML":o||(o="http://www.w3.org/1999/xhtml"),null!=r)for(c=0;c<r.length;c++)if((p=r[c])&&"setAttribute"in p==!!v&&(v?p.localName==v:3==p.nodeType)){t=p,r[c]=null;break}if(null==t){if(null==v)return document.createTextNode(g);t=document.createElementNS(o,v,g.is&&g),s&&(At.__m&&At.__m(e,r),s=!1),r=null}if(null==v)m===g||s&&t.data==g||(t.data=g);else{if(r=r&&kt.call(t.childNodes),!s&&null!=r)for(m={},c=0;c<t.attributes.length;c++)m[(p=t.attributes[c]).name]=p.value;for(c in m)if(p=m[c],"children"==c);else if("dangerouslySetInnerHTML"==c)u=p;else if(!(c in g)){if("value"==c&&"defaultValue"in g||"checked"==c&&"defaultChecked"in g)continue;te(t,c,null,p,o)}for(c in g)p=g[c],"children"==c?h=p:"dangerouslySetInnerHTML"==c?d=p:"value"==c?_=p:"checked"==c?f=p:s&&"function"!=typeof p||m[c]===p||te(t,c,p,m[c],o);if(d)s||u&&(d.__html==u.__html||d.__html==t.innerHTML)||(t.innerHTML=d.__html),e.__k=[];else if(u&&(t.innerHTML=""),Gt("template"==e.type?t.content:t,It(h)?h:[h],e,n,i,"foreignObject"==v?"http://www.w3.org/1999/xhtml":o,r,a,r?r[0]:n.__k&&Zt(n,0),s,l),null!=r)for(c=r.length;c--;)Lt(r[c]);s||(c="value","progress"==v&&null==_?t.removeAttribute("value"):null!=_&&(_!==t[c]||"progress"==v&&!_||"option"==v&&_!=m[c])&&te(t,c,_,m[c],o),c="checked",null!=f&&f!=t[c]&&te(t,c,f,m[c],o))}return t}(n.__e,e,n,i,o,r,a,l,c);return(d=At.diffed)&&d(e),128&e.__u?void 0:s}function ie(t){t&&t.__c&&(t.__c.__e=!0),t&&t.__k&&t.__k.forEach(ie)}function oe(t,e,n){for(var i=0;i<n.length;i++)ae(n[i],n[++i],n[++i]);At.__c&&At.__c(e,t),t.some(function(e){try{t=e.__h,e.__h=[],t.some(function(t){t.call(e)})}catch(t){At.__e(t,e.__v)}})}function re(t){return"object"!=typeof t||null==t||t.__b&&t.__b>0?t:It(t)?t.map(re):jt({},t)}function ae(t,e,n){try{if("function"==typeof t){var i="function"==typeof t.__u;i&&t.__u(),i&&null==e||(t.__u=t(e))}else t.current=e}catch(t){At.__e(t,n)}}function se(t,e,n){var i,o;if(At.unmount&&At.unmount(t),(i=t.ref)&&(i.current&&i.current!=t.__e||ae(i,null,e)),null!=(i=t.__c)){if(i.componentWillUnmount)try{i.componentWillUnmount()}catch(t){At.__e(t,e)}i.base=i.__P=null}if(i=t.__k)for(o=0;o<i.length;o++)i[o]&&se(i[o],e,n||"function"!=typeof t.type);n||Lt(t.__e),t.__c=t.__=t.__e=void 0}function le(t,e,n){return this.constructor(t,n)}function ce(t,e,n){var i,o,r,a;e==document&&(e=document.documentElement),At.__&&At.__(t,e),o=(i="function"==typeof n)?null:n&&n.__k||e.__k,r=[],a=[],ne(e,t=(!i&&n||e).__k=Dt(Wt,null,[t]),o||Rt,Rt,e.namespaceURI,!i&&n?[n]:o?null:e.firstChild?kt.call(e.childNodes):null,r,!i&&n?n:o?o.__e:e.firstChild,i,a),oe(r,t,a)}kt=Ut.slice,At={__e:function(t,e,n,i){for(var o,r,a;e=e.__;)if((o=e.__c)&&!o.__)try{if((r=o.constructor)&&null!=r.getDerivedStateFromError&&(o.setState(r.getDerivedStateFromError(t)),a=o.__d),null!=o.componentDidCatch&&(o.componentDidCatch(t,i||{}),a=o.__d),a)return o.__E=o}catch(e){t=e}throw t}},Et=0,Ft.prototype.setState=function(t,e){var n;n=null!=this.__s&&this.__s!=this.state?this.__s:this.__s=jt({},this.state),"function"==typeof t&&(t=t(jt({},n),this.props)),t&&jt(n,t),null!=t&&this.__v&&(e&&this._sb.push(e),qt(this))},Ft.prototype.forceUpdate=function(t){this.__v&&(this.__e=!0,t&&this.__h.push(t),qt(this))},Ft.prototype.render=Wt,St=[],Mt="function"==typeof Promise?Promise.prototype.then.bind(Promise.resolve()):setTimeout,zt=function(t,e){return t.__v.__b-e.__v.__b},Kt.__r=0,Nt=/(PointerCapture)$|Capture$/i,Pt=0,Ht=ee(!1),Tt=ee(!0);var de=0;Array.isArray;function ue(t,e,n,i,o,r){e||(e={});var a,s,l=e;if("ref"in l)for(s in l={},e)"ref"==s?a=e[s]:l[s]=e[s];var c={type:t,props:l,key:n,ref:a,__k:null,__:null,__b:0,__e:null,__c:null,constructor:void 0,__v:--de,__i:-1,__u:0,__source:o,__self:r};if("function"==typeof t&&(a=t.defaultProps))for(s in a)void 0===l[s]&&(l[s]=a[s]);return At.vnode&&At.vnode(c),c}var he,pe,_e,fe,me=0,ge=[],ve=At,ye=ve.__b,be=ve.__r,we=ve.diffed,xe=ve.__c,$e=ve.unmount,ke=ve.__;function Ae(t,e){ve.__h&&ve.__h(pe,t,me||e),me=0;var n=pe.__H||(pe.__H={__:[],__h:[]});return t>=n.__.length&&n.__.push({}),n.__[t]}function Ee(t){return me=1,Se(Ue,t)}function Se(t,e,n){var i=Ae(he++,2);if(i.t=t,!i.__c&&(i.__=[n?n(e):Ue(void 0,e),function(t){var e=i.__N?i.__N[0]:i.__[0],n=i.t(e,t);e!==n&&(i.__N=[n,i.__[1]],i.__c.setState({}))}],i.__c=pe,!pe.__f)){var o=function(t,e,n){if(!i.__c.__H)return!0;var o=i.__c.__H.__.filter(function(t){return!!t.__c});if(o.every(function(t){return!t.__N}))return!r||r.call(this,t,e,n);var a=i.__c.props!==t;return o.forEach(function(t){if(t.__N){var e=t.__[0];t.__=t.__N,t.__N=void 0,e!==t.__[0]&&(a=!0)}}),r&&r.call(this,t,e,n)||a};pe.__f=!0;var r=pe.shouldComponentUpdate,a=pe.componentWillUpdate;pe.componentWillUpdate=function(t,e,n){if(this.__e){var i=r;r=void 0,o(t,e,n),r=i}a&&a.call(this,t,e,n)},pe.shouldComponentUpdate=o}return i.__N||i.__}function Ce(t,e){var n=Ae(he++,7);return Re(n.__H,e)&&(n.__=t(),n.__H=e,n.__h=t),n.__}function Me(t,e){return me=8,Ce(function(){return t},e)}function ze(){for(var t;t=ge.shift();)if(t.__P&&t.__H)try{t.__H.__h.forEach(He),t.__H.__h.forEach(Te),t.__H.__h=[]}catch(e){t.__H.__h=[],ve.__e(e,t.__v)}}ve.__b=function(t){pe=null,ye&&ye(t)},ve.__=function(t,e){t&&e.__k&&e.__k.__m&&(t.__m=e.__k.__m),ke&&ke(t,e)},ve.__r=function(t){be&&be(t),he=0;var e=(pe=t.__c).__H;e&&(_e===pe?(e.__h=[],pe.__h=[],e.__.forEach(function(t){t.__N&&(t.__=t.__N),t.u=t.__N=void 0})):(e.__h.forEach(He),e.__h.forEach(Te),e.__h=[],he=0)),_e=pe},ve.diffed=function(t){we&&we(t);var e=t.__c;e&&e.__H&&(e.__H.__h.length&&(1!==ge.push(e)&&fe===ve.requestAnimationFrame||((fe=ve.requestAnimationFrame)||Pe)(ze)),e.__H.__.forEach(function(t){t.u&&(t.__H=t.u),t.u=void 0})),_e=pe=null},ve.__c=function(t,e){e.some(function(t){try{t.__h.forEach(He),t.__h=t.__h.filter(function(t){return!t.__||Te(t)})}catch(n){e.some(function(t){t.__h&&(t.__h=[])}),e=[],ve.__e(n,t.__v)}}),xe&&xe(t,e)},ve.unmount=function(t){$e&&$e(t);var e,n=t.__c;n&&n.__H&&(n.__H.__.forEach(function(t){try{He(t)}catch(t){e=t}}),n.__H=void 0,e&&ve.__e(e,n.__v))};var Ne="function"==typeof requestAnimationFrame;function Pe(t){var e,n=function(){clearTimeout(i),Ne&&cancelAnimationFrame(e),setTimeout(t)},i=setTimeout(n,35);Ne&&(e=requestAnimationFrame(n))}function He(t){var e=pe,n=t.__c;"function"==typeof n&&(t.__c=void 0,n()),pe=e}function Te(t){var e=pe;t.__c=t.__(),pe=e}function Re(t,e){return!t||t.length!==e.length||e.some(function(e,n){return e!==t[n]})}function Ue(t,e){return"function"==typeof e?e(t):e}function Oe(t,e){for(var n in e)t[n]=e[n];return t}function Ie(t,e){for(var n in t)if("__source"!==n&&!(n in e))return!0;for(var i in e)if("__source"!==i&&t[i]!==e[i])return!0;return!1}function je(t,e){this.props=t,this.context=e}(je.prototype=new Ft).isPureReactComponent=!0,je.prototype.shouldComponentUpdate=function(t,e){return Ie(this.props,t)||Ie(this.state,e)};var Le=At.__b;At.__b=function(t){t.type&&t.type.__f&&t.ref&&(t.props.ref=t.ref,t.ref=null),Le&&Le(t)};"undefined"!=typeof Symbol&&Symbol.for&&Symbol.for("react.forward_ref");var De=At.__e;At.__e=function(t,e,n,i){if(t.then)for(var o,r=e;r=r.__;)if((o=r.__c)&&o.__c)return null==e.__e&&(e.__e=n.__e,e.__k=n.__k),o.__c(t,e);De(t,e,n,i)};var Be=At.unmount;function We(t,e,n){return t&&(t.__c&&t.__c.__H&&(t.__c.__H.__.forEach(function(t){"function"==typeof t.__c&&t.__c()}),t.__c.__H=null),null!=(t=Oe({},t)).__c&&(t.__c.__P===n&&(t.__c.__P=e),t.__c.__e=!0,t.__c=null),t.__k=t.__k&&t.__k.map(function(t){return We(t,e,n)})),t}function Fe(t,e,n){return t&&n&&(t.__v=null,t.__k=t.__k&&t.__k.map(function(t){return Fe(t,e,n)}),t.__c&&t.__c.__P===e&&(t.__e&&n.appendChild(t.__e),t.__c.__e=!0,t.__c.__P=n)),t}function Ze(){this.__u=0,this.o=null,this.__b=null}function Ve(t){if(!t.__)return null;var e=t.__.__c;return e&&e.__a&&e.__a(t)}function qe(){this.i=null,this.l=null}At.unmount=function(t){var e=t.__c;e&&(e.__z=!0),e&&e.__R&&e.__R(),e&&32&t.__u&&(t.type=null),Be&&Be(t)},(Ze.prototype=new Ft).__c=function(t,e){var n=e.__c,i=this;null==i.o&&(i.o=[]),i.o.push(n);var o=Ve(i.__v),r=!1,a=function(){r||i.__z||(r=!0,n.__R=null,o?o(l):l())};n.__R=a;var s=n.__P;n.__P=null;var l=function(){if(! --i.__u){if(i.state.__a){var t=i.state.__a;i.__v.__k[0]=Fe(t,t.__c.__P,t.__c.__O)}var e;for(i.setState({__a:i.__b=null});e=i.o.pop();)e.__P=s,e.forceUpdate()}};i.__u++||32&e.__u||i.setState({__a:i.__b=i.__v.__k[0]}),t.then(a,a)},Ze.prototype.componentWillUnmount=function(){this.o=[]},Ze.prototype.render=function(t,e){if(this.__b){if(this.__v.__k){var n=document.createElement("div"),i=this.__v.__k[0].__c;this.__v.__k[0]=We(this.__b,n,i.__O=i.__P)}this.__b=null}var o=e.__a&&Dt(Wt,null,t.fallback);return o&&(o.__u&=-33),[Dt(Wt,null,e.__a?null:t.children),o]};var Ke=function(t,e,n){if(++n[1]===n[0]&&t.l.delete(e),t.props.revealOrder&&("t"!==t.props.revealOrder[0]||!t.l.size))for(n=t.i;n;){for(;n.length>3;)n.pop()();if(n[1]<n[0])break;t.i=n=n[2]}};(qe.prototype=new Ft).__a=function(t){var e=this,n=Ve(e.__v),i=e.l.get(t);return i[0]++,function(o){var r=function(){e.props.revealOrder?(i.push(o),Ke(e,t,i)):o()};n?n(r):r()}},qe.prototype.render=function(t){this.i=null,this.l=new Map;var e=Xt(t.children);t.revealOrder&&"b"===t.revealOrder[0]&&e.reverse();for(var n=e.length;n--;)this.l.set(e[n],this.i=[1,0,this.i]);return t.children},qe.prototype.componentDidUpdate=qe.prototype.componentDidMount=function(){var t=this;this.l.forEach(function(e,n){Ke(t,n,e)})};var Ge="undefined"!=typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,Je=/^(?:accent|alignment|arabic|baseline|cap|clip(?!PathU)|color|dominant|fill|flood|font|glyph(?!R)|horiz|image(!S)|letter|lighting|marker(?!H|W|U)|overline|paint|pointer|shape|stop|strikethrough|stroke|text(?!L)|transform|underline|unicode|units|v|vector|vert|word|writing|x(?!C))[A-Z]/,Xe=/^on(Ani|Tra|Tou|BeforeInp|Compo)/,Ye=/[A-Z0-9]/g,Qe="undefined"!=typeof document,tn=function(t){return("undefined"!=typeof Symbol&&"symbol"==typeof Symbol()?/fil|che|rad/:/fil|che|ra/).test(t)};function en(t,e,n){return null==e.__k&&(e.textContent=""),ce(t,e),"function"==typeof n&&n(),t?t.__c:null}Ft.prototype.isReactComponent={},["componentWillMount","componentWillReceiveProps","componentWillUpdate"].forEach(function(t){Object.defineProperty(Ft.prototype,t,{configurable:!0,get:function(){return this["UNSAFE_"+t]},set:function(e){Object.defineProperty(this,t,{configurable:!0,writable:!0,value:e})}})});var nn=At.event;function on(){}function rn(){return this.cancelBubble}function an(){return this.defaultPrevented}At.event=function(t){return nn&&(t=nn(t)),t.persist=on,t.isPropagationStopped=rn,t.isDefaultPrevented=an,t.nativeEvent=t};var sn={enumerable:!1,configurable:!0,get:function(){return this.class}},ln=At.vnode;At.vnode=function(t){"string"==typeof t.type&&function(t){var e=t.props,n=t.type,i={},o=-1===n.indexOf("-");for(var r in e){var a=e[r];if(!("value"===r&&"defaultValue"in e&&null==a||Qe&&"children"===r&&"noscript"===n||"class"===r||"className"===r)){var s=r.toLowerCase();"defaultValue"===r&&"value"in e&&null==e.value?r="value":"download"===r&&!0===a?a="":"translate"===s&&"no"===a?a=!1:"o"===s[0]&&"n"===s[1]?"ondoubleclick"===s?r="ondblclick":"onchange"!==s||"input"!==n&&"textarea"!==n||tn(e.type)?"onfocus"===s?r="onfocusin":"onblur"===s?r="onfocusout":Xe.test(r)&&(r=s):s=r="oninput":o&&Je.test(r)?r=r.replace(Ye,"-$&").toLowerCase():null===a&&(a=void 0),"oninput"===s&&i[r=s]&&(r="oninputCapture"),i[r]=a}}"select"==n&&i.multiple&&Array.isArray(i.value)&&(i.value=Xt(e.children).forEach(function(t){t.props.selected=-1!=i.value.indexOf(t.props.value)})),"select"==n&&null!=i.defaultValue&&(i.value=Xt(e.children).forEach(function(t){t.props.selected=i.multiple?-1!=i.defaultValue.indexOf(t.props.value):i.defaultValue==t.props.value})),e.class&&!e.className?(i.class=e.class,Object.defineProperty(i,"className",sn)):(e.className&&!e.class||e.class&&e.className)&&(i.class=i.className=e.className),t.props=i}(t),t.$$typeof=Ge,ln&&ln(t)};var cn=At.__r;At.__r=function(t){cn&&cn(t),t.__c};var dn=At.diffed;At.diffed=function(t){dn&&dn(t);var e=t.props,n=t.__e;null!=n&&"textarea"===t.type&&"value"in e&&e.value!==n.value&&(n.value=null==e.value?"":e.value)};function un(t,e){const n=t.replace(/^#/,"").match(/(.{2})/g);if(!n||3!==n.length)return`rgba(45, 45, 45, ${e})`;const[i,o,r]=n.map(t=>parseInt(t,16));return`rgba(${i},${o},${r},${e})`}function hn(t){return t<18?"#2196f3":t<24?"#ff9800":"#f44336"}function pn(t){const e=t.indexOf(".");return e>0?t.slice(0,e):""}const _n="__heatmap__";function fn(t){const{config:e,hass:n,activeTab:i,onSelectTab:o,host:r}=t,a=e?.entities??[],s=Array.from(new Set(a.map(t=>pn(t.entity)).filter(Boolean))).sort(),l=(e?.temperature_zones??[]).length>0,c=e?.alert_entities??[],d=[null];l&&d.push(_n),d.push(...s);const u=s.length>0||l||c.length>0,h=n?.states&&c.length>0?c.filter(t=>{const e=n?.states?.[t]?.state;return"on"===e||"triggered"===e||"active"===e}).length:0;return u?ue("div",{className:"flex flex-wrap items-center justify-between gap-2 flex-shrink-0",style:{padding:"10px 16px 12px",background:"var(--ha-card-background, var(--card-background-color, #1e1e1e))",borderBottom:"1px solid var(--divider-color, rgba(0, 0, 0, 0.12))"},children:[ue("div",{className:"flex flex-wrap items-center gap-2",children:d.map(t=>ue("button",{type:"button",onClick:()=>o(t),style:{padding:"6px 14px",border:"none",borderRadius:16,fontSize:"0.875rem",fontWeight:500,cursor:"pointer",transition:"background-color 0.2s, color 0.2s",fontFamily:"inherit",...i===t?{background:"var(--primary-color, #03a9f4)",color:"#fff"}:{background:"var(--secondary-background-color, rgba(255, 255, 255, 0.05))",color:"var(--secondary-text-color, rgba(255, 255, 255, 0.7))"}},onMouseEnter:e=>{i!==t&&(e.currentTarget.style.background="var(--secondary-background-color, rgba(255, 255, 255, 0.08))",e.currentTarget.style.color="var(--primary-text-color, rgba(255, 255, 255, 0.9))")},onMouseLeave:e=>{i!==t&&(e.currentTarget.style.background="var(--secondary-background-color, rgba(255, 255, 255, 0.05))",e.currentTarget.style.color="var(--secondary-text-color, rgba(255, 255, 255, 0.7))")},children:null===t?"Alle":t===_n?"Heatmap":t},t??"all"))}),c.length>0&&ue("button",{type:"button",onClick:()=>{const t=e?.alert_badge_action??{action:"more-info"},i=c[0]??"";yt(r,n,{entity:i,tap_action:t},"tap"),mt("light")},style:{display:"inline-flex",alignItems:"center",gap:6,padding:"6px 12px",border:"none",borderRadius:16,fontSize:"0.875rem",fontWeight:500,cursor:"pointer",transition:"opacity 0.2s",fontFamily:"inherit",...h>0?{background:"var(--error-color, #db4437)",color:"#fff"}:{background:"var(--secondary-background-color, rgba(255, 255, 255, 0.05))",color:"var(--secondary-text-color, rgba(255, 255, 255, 0.7))"}},title:"Meldungen",onMouseEnter:t=>{0===h?(t.currentTarget.style.background="var(--secondary-background-color, rgba(255, 255, 255, 0.08))",t.currentTarget.style.color="var(--primary-text-color, rgba(255, 255, 255, 0.9))"):t.currentTarget.style.opacity="0.9"},onMouseLeave:t=>{0===h?(t.currentTarget.style.background="var(--secondary-background-color, rgba(255, 255, 255, 0.05))",t.currentTarget.style.color="var(--secondary-text-color, rgba(255, 255, 255, 0.7))"):t.currentTarget.style.opacity="1"},children:[ue("ha-icon",{icon:"mdi:bell-badge-outline",style:{width:20,height:20}}),ue("span",{style:{minWidth:"1.2em",textAlign:"center",fontWeight:600},children:h})]})]}):null}function mn(t){const{ent:e,hass:n,host:i,tapAction:o,holdAction:r,doubleTapAction:a}=t,s=Math.min(100,Math.max(0,Number(e.x)??50)),l=Math.min(100,Math.max(0,Number(e.y)??50)),c=Math.min(2,Math.max(.3,Number(e.scale)??1)),d="on"===n?.states?.[e.entity]?.state,u=e.icon||function(t,e){const n=t?.states?.[e];if(!n)return"mdi:help-circle";if(n.attributes?.icon)return n.attributes.icon;const i=e.split(".")[0],o=n.state;return"light"===i||"switch"===i?"on"===o?"mdi:lightbulb-on":"mdi:lightbulb-outline":"cover"===i?"mdi:blinds":"climate"===i?"mdi:thermostat":"sensor"===i?"mdi:gauge":"binary_sensor"===i?"mdi:motion-sensor":"mdi:circle"}(n,e.entity),h=function(t,e){const n=t?.states?.[e];if(!n)return"—";const i=n.attributes?.unit_of_measurement;return i?`${n.state} ${i}`:n.state}(n,e.entity),p=`${wt(n,e.entity)}: ${h}`,_=Math.min(1,Math.max(0,Number(e.background_opacity)??1)),f=e.preset??"default";let m,g=!!e.show_value;if("temperature"===f){g=!0;const t=n?.states?.[e.entity]?.state,i="string"==typeof t?parseFloat(t.replace(",",".")):Number(t);m=un(hn(Number.isFinite(i)?i:20),_)}else m=e.color?un(e.color,_):`rgba(45, 45, 45, ${_})`;const v={entity:e.entity,tap_action:o,hold_action:r,double_tap_action:a};return ue("div",{className:"absolute -translate-x-1/2 -translate-y-1/2 flex items-center justify-center rounded-full cursor-pointer min-w-5 min-h-5 z-[2]",style:{left:`${s}%`,top:`${l}%`,width:`calc(clamp(28px, 8vw, 48px) * ${c})`,height:`calc(clamp(28px, 8vw, 48px) * ${c})`,background:m,color:d?"var(--state-icon-on-color, #ffc107)":"var(--primary-text-color, #e1e1e1)",boxShadow:"0 2px 8px rgba(0,0,0,0.35)"},title:p,role:"button",tabIndex:0,onClick:()=>yt(i,n,v,"tap"),onDblClick:()=>bt(a)&&yt(i,n,v,"double_tap"),onContextMenu:t=>{t.preventDefault(),bt(r)&&yt(i,n,v,"hold")},children:ue("div",{className:"w-full h-full flex items-center justify-center rounded-full overflow-hidden p-0.5",children:g?ue("span",{className:"text-center font-medium text-xs leading-tight truncate max-w-full",children:h}):ue("ha-icon",{icon:u})})})}function gn({zone:t,hass:e}){const n=Math.min(100,Math.max(0,Number(t.x1)??0)),i=Math.min(100,Math.max(0,Number(t.y1)??0)),o=Math.min(100,Math.max(0,Number(t.x2)??100)),r=Math.min(100,Math.max(0,Number(t.y2)??100)),a=Math.min(n,o),s=Math.min(i,r),l=Math.abs(o-n)||1,c=Math.abs(r-i)||1,d=Math.min(1,Math.max(0,Number(t.opacity)??.4)),u=e?.states?.[t.entity]?.state,h="string"==typeof u?parseFloat(u.replace(",",".")):Number(u);return ue("div",{className:"absolute pointer-events-none z-0 rounded-none",style:{left:`${a}%`,top:`${s}%`,width:`${l}%`,height:`${c}%`,background:un(hn(Number.isFinite(h)?h:20),d)},title:`${t.entity}: ${u??"?"}`})}function vn(t){const{config:e,hass:n,host:i,activeTab:o,imageAspect:r,imageLoaded:a,imageError:s,onImageLoad:l,onImageError:c}=t,d="string"==typeof e.image?e.image:e?.image?.location??"",u=void 0!==e.dark_mode?!!e.dark_mode:"undefined"!=typeof window&&window.matchMedia("(prefers-color-scheme: dark)").matches,h=u?e.dark_mode_filter??"brightness(0.88) contrast(1.05)":"none",p=u&&e.image_dark?e.image_dark:d,_=Number(e.rotation)??0,f=e?.entities??[],m=o===_n?[]:null===o||""===o?f:f.filter(t=>pn(t.entity)===o),g=e?.temperature_zones??[],v=e?.tap_action??{action:"more-info"},y={position:"absolute",top:"0",left:"0",width:"100%",height:"100%",margin:"0",padding:"0",boxSizing:"border-box"};return ue("div",{className:"flex-1 min-h-0 overflow-hidden w-full min-w-0",style:{transform:`rotate(${_}deg)`,minHeight:120,width:"100%",minWidth:0,position:"relative"},children:ue("div",{style:{position:"absolute",top:0,left:0,right:0,bottom:0,width:"100%",height:"100%",overflow:"hidden",background:"var(--ha-card-background)"},children:[ue("img",{src:p,alt:"Raumplan",style:{position:"absolute",top:0,left:0,right:0,bottom:0,width:"100%",height:"100%",margin:0,padding:0,boxSizing:"border-box",objectFit:"cover",objectPosition:"center",filter:h,zIndex:0,display:"block"},onLoad:l,onError:c}),!a&&!s&&ue("div",{style:{...y,zIndex:1,background:"var(--ha-card-background)"},"aria-hidden":!0}),s&&ue("div",{style:{...y,zIndex:1,display:"flex",alignItems:"center",justifyContent:"center",background:"var(--ha-card-background)",color:"var(--secondary-text-color)",fontSize:"0.875rem"},children:"Bild konnte nicht geladen werden"}),g.length>0&&ue("div",{style:{...y,zIndex:2,pointerEvents:"none"},children:g.map((t,e)=>ue(gn,{zone:t,hass:n},e))}),ue("div",{style:{...y,zIndex:3,pointerEvents:"none"},children:ue("div",{style:{...y,pointerEvents:"auto"},children:m.map((t,o)=>ue(mn,{ent:t,hass:n,host:i,tapAction:t.tap_action??e?.tap_action??v,holdAction:t.hold_action??e?.hold_action,doubleTapAction:t.double_tap_action??e?.double_tap_action},`${t.entity}-${o}`))})})]})})}function yn({hass:t,config:e,host:n,cssString:i}){const[o,r]=Ee(null),[a,s]=Ee(16/9),[l,c]=Ee(!1),[d,u]=Ee(!1),h=Me(t=>{const e=t.target;e?.naturalWidth&&e?.naturalHeight&&s(e.naturalWidth/e.naturalHeight),c(!0),u(!1)},[]),p=Me(()=>{u(!0),c(!1)},[]);return ue("ha-card",("string"==typeof e.image?e.image:e?.image?.location??"")?{class:e?.full_height?"full-height":"",children:[ue("style",{dangerouslySetInnerHTML:{__html:i}}),ue("div",{className:"flex flex-col p-0 overflow-hidden w-full h-full min-h-0 min-w-0 flex-1",style:{flex:"1 1 0",minHeight:0,minWidth:0},children:[ue(fn,{config:e,hass:t,activeTab:o,onSelectTab:r,host:n}),ue(vn,{config:e,hass:t,host:n,activeTab:o,imageAspect:a,imageLoaded:l,imageError:d,onImageLoad:h,onImageError:p})]})]}:{children:[ue("style",{dangerouslySetInnerHTML:{__html:i}}),ue("div",{className:"flex flex-col items-center justify-center p-8 text-center",children:[ue("ha-icon",{icon:"mdi:floor-plan",class:"text-[var(--primary-color)] mb-4"}),ue("p",{className:"text-[var(--secondary-text-color)]",children:"Bitte konfigurieren"})]})]})}const bn='/*! tailwindcss v4.1.18 | MIT License | https://tailwindcss.com */\n@layer properties;\n@layer theme, base, components, utilities;\n@layer theme {\n  :root, :host {\n    --font-sans: ui-sans-serif, system-ui, sans-serif, "Apple Color Emoji",\n      "Segoe UI Emoji", "Segoe UI Symbol", "Noto Color Emoji";\n    --font-mono: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono",\n      "Courier New", monospace;\n    --color-white: #fff;\n    --spacing: 0.25rem;\n    --text-xs: 0.75rem;\n    --text-xs--line-height: calc(1 / 0.75);\n    --text-sm: 0.875rem;\n    --text-sm--line-height: calc(1.25 / 0.875);\n    --font-weight-medium: 500;\n    --font-weight-semibold: 600;\n    --leading-tight: 1.25;\n    --radius-2xl: 1rem;\n    --default-transition-duration: 150ms;\n    --default-transition-timing-function: cubic-bezier(0.4, 0, 0.2, 1);\n    --default-font-family: var(--font-sans);\n    --default-mono-font-family: var(--font-mono);\n  }\n}\n@layer base {\n  *, ::after, ::before, ::backdrop, ::file-selector-button {\n    box-sizing: border-box;\n    margin: 0;\n    padding: 0;\n    border: 0 solid;\n  }\n  html, :host {\n    line-height: 1.5;\n    -webkit-text-size-adjust: 100%;\n    tab-size: 4;\n    font-family: var(--default-font-family, ui-sans-serif, system-ui, sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol", "Noto Color Emoji");\n    font-feature-settings: var(--default-font-feature-settings, normal);\n    font-variation-settings: var(--default-font-variation-settings, normal);\n    -webkit-tap-highlight-color: transparent;\n  }\n  hr {\n    height: 0;\n    color: inherit;\n    border-top-width: 1px;\n  }\n  abbr:where([title]) {\n    -webkit-text-decoration: underline dotted;\n    text-decoration: underline dotted;\n  }\n  h1, h2, h3, h4, h5, h6 {\n    font-size: inherit;\n    font-weight: inherit;\n  }\n  a {\n    color: inherit;\n    -webkit-text-decoration: inherit;\n    text-decoration: inherit;\n  }\n  b, strong {\n    font-weight: bolder;\n  }\n  code, kbd, samp, pre {\n    font-family: var(--default-mono-font-family, ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", "Courier New", monospace);\n    font-feature-settings: var(--default-mono-font-feature-settings, normal);\n    font-variation-settings: var(--default-mono-font-variation-settings, normal);\n    font-size: 1em;\n  }\n  small {\n    font-size: 80%;\n  }\n  sub, sup {\n    font-size: 75%;\n    line-height: 0;\n    position: relative;\n    vertical-align: baseline;\n  }\n  sub {\n    bottom: -0.25em;\n  }\n  sup {\n    top: -0.5em;\n  }\n  table {\n    text-indent: 0;\n    border-color: inherit;\n    border-collapse: collapse;\n  }\n  :-moz-focusring {\n    outline: auto;\n  }\n  progress {\n    vertical-align: baseline;\n  }\n  summary {\n    display: list-item;\n  }\n  ol, ul, menu {\n    list-style: none;\n  }\n  img, svg, video, canvas, audio, iframe, embed, object {\n    display: block;\n    vertical-align: middle;\n  }\n  img, video {\n    max-width: 100%;\n    height: auto;\n  }\n  button, input, select, optgroup, textarea, ::file-selector-button {\n    font: inherit;\n    font-feature-settings: inherit;\n    font-variation-settings: inherit;\n    letter-spacing: inherit;\n    color: inherit;\n    border-radius: 0;\n    background-color: transparent;\n    opacity: 1;\n  }\n  :where(select:is([multiple], [size])) optgroup {\n    font-weight: bolder;\n  }\n  :where(select:is([multiple], [size])) optgroup option {\n    padding-inline-start: 20px;\n  }\n  ::file-selector-button {\n    margin-inline-end: 4px;\n  }\n  ::placeholder {\n    opacity: 1;\n  }\n  @supports (not (-webkit-appearance: -apple-pay-button))  or (contain-intrinsic-size: 1px) {\n    ::placeholder {\n      color: currentcolor;\n      @supports (color: color-mix(in lab, red, red)) {\n        color: color-mix(in oklab, currentcolor 50%, transparent);\n      }\n    }\n  }\n  textarea {\n    resize: vertical;\n  }\n  ::-webkit-search-decoration {\n    -webkit-appearance: none;\n  }\n  ::-webkit-date-and-time-value {\n    min-height: 1lh;\n    text-align: inherit;\n  }\n  ::-webkit-datetime-edit {\n    display: inline-flex;\n  }\n  ::-webkit-datetime-edit-fields-wrapper {\n    padding: 0;\n  }\n  ::-webkit-datetime-edit, ::-webkit-datetime-edit-year-field, ::-webkit-datetime-edit-month-field, ::-webkit-datetime-edit-day-field, ::-webkit-datetime-edit-hour-field, ::-webkit-datetime-edit-minute-field, ::-webkit-datetime-edit-second-field, ::-webkit-datetime-edit-millisecond-field, ::-webkit-datetime-edit-meridiem-field {\n    padding-block: 0;\n  }\n  ::-webkit-calendar-picker-indicator {\n    line-height: 1;\n  }\n  :-moz-ui-invalid {\n    box-shadow: none;\n  }\n  button, input:where([type="button"], [type="reset"], [type="submit"]), ::file-selector-button {\n    appearance: button;\n  }\n  ::-webkit-inner-spin-button, ::-webkit-outer-spin-button {\n    height: auto;\n  }\n  [hidden]:where(:not([hidden="until-found"])) {\n    display: none !important;\n  }\n}\n@layer utilities {\n  .pointer-events-none {\n    pointer-events: none;\n  }\n  .visible {\n    visibility: visible;\n  }\n  .absolute {\n    position: absolute;\n  }\n  .fixed {\n    position: fixed;\n  }\n  .relative {\n    position: relative;\n  }\n  .static {\n    position: static;\n  }\n  .inset-0 {\n    inset: calc(var(--spacing) * 0);\n  }\n  .top-0 {\n    top: calc(var(--spacing) * 0);\n  }\n  .left-0 {\n    left: calc(var(--spacing) * 0);\n  }\n  .z-0 {\n    z-index: 0;\n  }\n  .z-\\[2\\] {\n    z-index: 2;\n  }\n  .container {\n    width: 100%;\n    @media (width >= 40rem) {\n      max-width: 40rem;\n    }\n    @media (width >= 48rem) {\n      max-width: 48rem;\n    }\n    @media (width >= 64rem) {\n      max-width: 64rem;\n    }\n    @media (width >= 80rem) {\n      max-width: 80rem;\n    }\n    @media (width >= 96rem) {\n      max-width: 96rem;\n    }\n  }\n  .mb-4 {\n    margin-bottom: calc(var(--spacing) * 4);\n  }\n  .block {\n    display: block;\n  }\n  .contents {\n    display: contents;\n  }\n  .flex {\n    display: flex;\n  }\n  .grid {\n    display: grid;\n  }\n  .hidden {\n    display: none;\n  }\n  .inline-flex {\n    display: inline-flex;\n  }\n  .table {\n    display: table;\n  }\n  .size-auto {\n    width: auto;\n    height: auto;\n  }\n  .h-full {\n    height: 100%;\n  }\n  .min-h-0 {\n    min-height: calc(var(--spacing) * 0);\n  }\n  .min-h-5 {\n    min-height: calc(var(--spacing) * 5);\n  }\n  .w-full {\n    width: 100%;\n  }\n  .max-w-full {\n    max-width: 100%;\n  }\n  .min-w-0 {\n    min-width: calc(var(--spacing) * 0);\n  }\n  .min-w-5 {\n    min-width: calc(var(--spacing) * 5);\n  }\n  .flex-1 {\n    flex: 1;\n  }\n  .flex-shrink {\n    flex-shrink: 1;\n  }\n  .flex-shrink-0 {\n    flex-shrink: 0;\n  }\n  .flex-grow {\n    flex-grow: 1;\n  }\n  .grow {\n    flex-grow: 1;\n  }\n  .border-collapse {\n    border-collapse: collapse;\n  }\n  .-translate-x-1 {\n    --tw-translate-x: calc(var(--spacing) * -1);\n    translate: var(--tw-translate-x) var(--tw-translate-y);\n  }\n  .-translate-x-1\\/2 {\n    --tw-translate-x: calc(calc(1/2 * 100%) * -1);\n    translate: var(--tw-translate-x) var(--tw-translate-y);\n  }\n  .-translate-y-1 {\n    --tw-translate-y: calc(var(--spacing) * -1);\n    translate: var(--tw-translate-x) var(--tw-translate-y);\n  }\n  .-translate-y-1\\/2 {\n    --tw-translate-y: calc(calc(1/2 * 100%) * -1);\n    translate: var(--tw-translate-x) var(--tw-translate-y);\n  }\n  .transform {\n    transform: var(--tw-rotate-x,) var(--tw-rotate-y,) var(--tw-rotate-z,) var(--tw-skew-x,) var(--tw-skew-y,);\n  }\n  .cursor-pointer {\n    cursor: pointer;\n  }\n  .resize {\n    resize: both;\n  }\n  .flex-col {\n    flex-direction: column;\n  }\n  .flex-wrap {\n    flex-wrap: wrap;\n  }\n  .items-center {\n    align-items: center;\n  }\n  .justify-between {\n    justify-content: space-between;\n  }\n  .justify-center {\n    justify-content: center;\n  }\n  .gap-1 {\n    gap: calc(var(--spacing) * 1);\n  }\n  .gap-2 {\n    gap: calc(var(--spacing) * 2);\n  }\n  .truncate {\n    overflow: hidden;\n    text-overflow: ellipsis;\n    white-space: nowrap;\n  }\n  .overflow-hidden {\n    overflow: hidden;\n  }\n  .rounded-2xl {\n    border-radius: var(--radius-2xl);\n  }\n  .rounded-full {\n    border-radius: calc(infinity * 1px);\n  }\n  .rounded-none {\n    border-radius: 0;\n  }\n  .border {\n    border-style: var(--tw-border-style);\n    border-width: 1px;\n  }\n  .border-b {\n    border-bottom-style: var(--tw-border-style);\n    border-bottom-width: 1px;\n  }\n  .border-none {\n    --tw-border-style: none;\n    border-style: none;\n  }\n  .object-fill {\n    object-fit: fill;\n  }\n  .object-center {\n    object-position: center;\n  }\n  .p-0 {\n    padding: calc(var(--spacing) * 0);\n  }\n  .p-0\\.5 {\n    padding: calc(var(--spacing) * 0.5);\n  }\n  .p-8 {\n    padding: calc(var(--spacing) * 8);\n  }\n  .px-3 {\n    padding-inline: calc(var(--spacing) * 3);\n  }\n  .px-4 {\n    padding-inline: calc(var(--spacing) * 4);\n  }\n  .py-1 {\n    padding-block: calc(var(--spacing) * 1);\n  }\n  .py-3 {\n    padding-block: calc(var(--spacing) * 3);\n  }\n  .text-center {\n    text-align: center;\n  }\n  .text-sm {\n    font-size: var(--text-sm);\n    line-height: var(--tw-leading, var(--text-sm--line-height));\n  }\n  .text-xs {\n    font-size: var(--text-xs);\n    line-height: var(--tw-leading, var(--text-xs--line-height));\n  }\n  .leading-tight {\n    --tw-leading: var(--leading-tight);\n    line-height: var(--leading-tight);\n  }\n  .font-medium {\n    --tw-font-weight: var(--font-weight-medium);\n    font-weight: var(--font-weight-medium);\n  }\n  .font-semibold {\n    --tw-font-weight: var(--font-weight-semibold);\n    font-weight: var(--font-weight-semibold);\n  }\n  .text-\\[var\\(--primary-color\\)\\] {\n    color: var(--primary-color);\n  }\n  .text-\\[var\\(--secondary-text-color\\)\\] {\n    color: var(--secondary-text-color);\n  }\n  .text-white {\n    color: var(--color-white);\n  }\n  .underline {\n    text-decoration-line: underline;\n  }\n  .shadow {\n    --tw-shadow: 0 1px 3px 0 var(--tw-shadow-color, rgb(0 0 0 / 0.1)), 0 1px 2px -1px var(--tw-shadow-color, rgb(0 0 0 / 0.1));\n    box-shadow: var(--tw-inset-shadow), var(--tw-inset-ring-shadow), var(--tw-ring-offset-shadow), var(--tw-ring-shadow), var(--tw-shadow);\n  }\n  .ring {\n    --tw-ring-shadow: var(--tw-ring-inset,) 0 0 0 calc(1px + var(--tw-ring-offset-width)) var(--tw-ring-color, currentcolor);\n    box-shadow: var(--tw-inset-shadow), var(--tw-inset-ring-shadow), var(--tw-ring-offset-shadow), var(--tw-ring-shadow), var(--tw-shadow);\n  }\n  .outline {\n    outline-style: var(--tw-outline-style);\n    outline-width: 1px;\n  }\n  .filter {\n    filter: var(--tw-blur,) var(--tw-brightness,) var(--tw-contrast,) var(--tw-grayscale,) var(--tw-hue-rotate,) var(--tw-invert,) var(--tw-saturate,) var(--tw-sepia,) var(--tw-drop-shadow,);\n  }\n  .transition {\n    transition-property: color, background-color, border-color, outline-color, text-decoration-color, fill, stroke, --tw-gradient-from, --tw-gradient-via, --tw-gradient-to, opacity, box-shadow, transform, translate, scale, rotate, filter, -webkit-backdrop-filter, backdrop-filter, display, content-visibility, overlay, pointer-events;\n    transition-timing-function: var(--tw-ease, var(--default-transition-timing-function));\n    transition-duration: var(--tw-duration, var(--default-transition-duration));\n  }\n}\n:host {\n  display: block;\n  width: 100%;\n  height: 100%;\n  min-height: 0;\n  max-width: none;\n  max-height: none;\n  flex: 1 1 0;\n  box-sizing: border-box;\n  --ha-card-background: var(--ha-card-background, #1e1e1e);\n  --primary-color: var(--primary-color, #03a9f4);\n  --primary-text-color: var(--primary-text-color, #e1e1e1);\n  --secondary-text-color: var(--secondary-text-color, #b0b0b0);\n  --divider-color: var(--divider-color, rgba(0, 0, 0, 0.12));\n  --error-color: var(--error-color, #db4437);\n}\nha-card {\n  display: flex;\n  flex-direction: column;\n  width: 100%;\n  height: 100%;\n  min-height: 0;\n  max-width: none;\n  max-height: none;\n  overflow: hidden;\n  box-sizing: border-box;\n  flex: 1 1 0;\n}\nha-card.full-height {\n  flex: 1 1 0;\n  min-height: 0;\n}\n@property --tw-translate-x {\n  syntax: "*";\n  inherits: false;\n  initial-value: 0;\n}\n@property --tw-translate-y {\n  syntax: "*";\n  inherits: false;\n  initial-value: 0;\n}\n@property --tw-translate-z {\n  syntax: "*";\n  inherits: false;\n  initial-value: 0;\n}\n@property --tw-rotate-x {\n  syntax: "*";\n  inherits: false;\n}\n@property --tw-rotate-y {\n  syntax: "*";\n  inherits: false;\n}\n@property --tw-rotate-z {\n  syntax: "*";\n  inherits: false;\n}\n@property --tw-skew-x {\n  syntax: "*";\n  inherits: false;\n}\n@property --tw-skew-y {\n  syntax: "*";\n  inherits: false;\n}\n@property --tw-border-style {\n  syntax: "*";\n  inherits: false;\n  initial-value: solid;\n}\n@property --tw-leading {\n  syntax: "*";\n  inherits: false;\n}\n@property --tw-font-weight {\n  syntax: "*";\n  inherits: false;\n}\n@property --tw-shadow {\n  syntax: "*";\n  inherits: false;\n  initial-value: 0 0 #0000;\n}\n@property --tw-shadow-color {\n  syntax: "*";\n  inherits: false;\n}\n@property --tw-shadow-alpha {\n  syntax: "<percentage>";\n  inherits: false;\n  initial-value: 100%;\n}\n@property --tw-inset-shadow {\n  syntax: "*";\n  inherits: false;\n  initial-value: 0 0 #0000;\n}\n@property --tw-inset-shadow-color {\n  syntax: "*";\n  inherits: false;\n}\n@property --tw-inset-shadow-alpha {\n  syntax: "<percentage>";\n  inherits: false;\n  initial-value: 100%;\n}\n@property --tw-ring-color {\n  syntax: "*";\n  inherits: false;\n}\n@property --tw-ring-shadow {\n  syntax: "*";\n  inherits: false;\n  initial-value: 0 0 #0000;\n}\n@property --tw-inset-ring-color {\n  syntax: "*";\n  inherits: false;\n}\n@property --tw-inset-ring-shadow {\n  syntax: "*";\n  inherits: false;\n  initial-value: 0 0 #0000;\n}\n@property --tw-ring-inset {\n  syntax: "*";\n  inherits: false;\n}\n@property --tw-ring-offset-width {\n  syntax: "<length>";\n  inherits: false;\n  initial-value: 0px;\n}\n@property --tw-ring-offset-color {\n  syntax: "*";\n  inherits: false;\n  initial-value: #fff;\n}\n@property --tw-ring-offset-shadow {\n  syntax: "*";\n  inherits: false;\n  initial-value: 0 0 #0000;\n}\n@property --tw-outline-style {\n  syntax: "*";\n  inherits: false;\n  initial-value: solid;\n}\n@property --tw-blur {\n  syntax: "*";\n  inherits: false;\n}\n@property --tw-brightness {\n  syntax: "*";\n  inherits: false;\n}\n@property --tw-contrast {\n  syntax: "*";\n  inherits: false;\n}\n@property --tw-grayscale {\n  syntax: "*";\n  inherits: false;\n}\n@property --tw-hue-rotate {\n  syntax: "*";\n  inherits: false;\n}\n@property --tw-invert {\n  syntax: "*";\n  inherits: false;\n}\n@property --tw-opacity {\n  syntax: "*";\n  inherits: false;\n}\n@property --tw-saturate {\n  syntax: "*";\n  inherits: false;\n}\n@property --tw-sepia {\n  syntax: "*";\n  inherits: false;\n}\n@property --tw-drop-shadow {\n  syntax: "*";\n  inherits: false;\n}\n@property --tw-drop-shadow-color {\n  syntax: "*";\n  inherits: false;\n}\n@property --tw-drop-shadow-alpha {\n  syntax: "<percentage>";\n  inherits: false;\n  initial-value: 100%;\n}\n@property --tw-drop-shadow-size {\n  syntax: "*";\n  inherits: false;\n}\n@layer properties {\n  @supports ((-webkit-hyphens: none) and (not (margin-trim: inline))) or ((-moz-orient: inline) and (not (color:rgb(from red r g b)))) {\n    *, ::before, ::after, ::backdrop {\n      --tw-translate-x: 0;\n      --tw-translate-y: 0;\n      --tw-translate-z: 0;\n      --tw-rotate-x: initial;\n      --tw-rotate-y: initial;\n      --tw-rotate-z: initial;\n      --tw-skew-x: initial;\n      --tw-skew-y: initial;\n      --tw-border-style: solid;\n      --tw-leading: initial;\n      --tw-font-weight: initial;\n      --tw-shadow: 0 0 #0000;\n      --tw-shadow-color: initial;\n      --tw-shadow-alpha: 100%;\n      --tw-inset-shadow: 0 0 #0000;\n      --tw-inset-shadow-color: initial;\n      --tw-inset-shadow-alpha: 100%;\n      --tw-ring-color: initial;\n      --tw-ring-shadow: 0 0 #0000;\n      --tw-inset-ring-color: initial;\n      --tw-inset-ring-shadow: 0 0 #0000;\n      --tw-ring-inset: initial;\n      --tw-ring-offset-width: 0px;\n      --tw-ring-offset-color: #fff;\n      --tw-ring-offset-shadow: 0 0 #0000;\n      --tw-outline-style: solid;\n      --tw-blur: initial;\n      --tw-brightness: initial;\n      --tw-contrast: initial;\n      --tw-grayscale: initial;\n      --tw-hue-rotate: initial;\n      --tw-invert: initial;\n      --tw-opacity: initial;\n      --tw-saturate: initial;\n      --tw-sepia: initial;\n      --tw-drop-shadow: initial;\n      --tw-drop-shadow-color: initial;\n      --tw-drop-shadow-alpha: 100%;\n      --tw-drop-shadow-size: initial;\n    }\n  }\n}\n',wn="room-plan-card";window.customCards=window.customCards??[],window.customCards.push({type:"custom:"+wn,name:"Interaktiver Raumplan",description:"Raumplan als Bild mit Entitäten (React + Tailwind)",preview:!1});class xn extends HTMLElement{constructor(){super(...arguments),this._config={type:"",image:"",entities:[]},this._hass=null}static getConfigElement(){return document.createElement("room-plan-editor")}static getStubConfig(){return{image:"/local/raumplan.png",rotation:0,entities:[{entity:"light.example",x:25,y:30,scale:1,color:"#ffc107"},{entity:"sensor.example",x:75,y:40,scale:1}]}}setConfig(t){this._config=function(t){const e=t?.image&&"string"==typeof t.image?t.image:t?.image?.location??"";return{type:t?.type??"custom:room-plan-card",image:e,entities:Array.isArray(t?.entities)?t.entities:[],title:t?.title??"",rotation:Number(t?.rotation)??0,full_height:t?.full_height??!1,tap_action:t?.tap_action,hold_action:t?.hold_action,double_tap_action:t?.double_tap_action,entity_filter:Array.isArray(t?.entity_filter)?t.entity_filter:void 0,temperature_zones:Array.isArray(t?.temperature_zones)?t.temperature_zones:void 0,alert_entities:Array.isArray(t?.alert_entities)?t.alert_entities:void 0,alert_badge_action:t?.alert_badge_action,image_dark:t?.image_dark,dark_mode_filter:t?.dark_mode_filter,dark_mode:t?.dark_mode}}(t??{type:"",image:"",entities:[]}),this._render()}set hass(t){this._hass=t,this._render()}getCardSize(){return this._config?.full_height?1:10}getGridOptions(){return this._config?.full_height?{rows:1,columns:1,min_rows:1,min_columns:1}:{rows:10,columns:12,min_rows:4,min_columns:4}}_render(){if(this.closest?.(".element-preview"))return void(this.style.display="none");if(!this._hass)return;this.style.display="block",this.style.width="100%",this.style.height="100%",this.style.minHeight="0",this.style.flex="1 1 0",this.style.boxSizing="border-box",this.shadowRoot||this.attachShadow({mode:"open"});const t=bn,e=this.shadowRoot;en(ue(yn,{hass:this._hass,config:this._config,host:this,cssString:t}),e)}}function $n({hass:t,config:e}){const n=e.entity??"",i=n?t?.states?.[n]:null,o=i?.state??"–",r=i?.attributes?.friendly_name??(n||"Keine Entität");return ue("div",{style:kn.card,children:[ue("h2",{style:kn.title,children:e.title??"React Demo"}),ue("p",{style:kn.entity,children:[ue("strong",{children:r}),": ",o]}),ue("p",{style:kn.hint,children:"Preact in Web Component (Shadow DOM)"})]})}customElements.define(wn,xn);const kn={card:{padding:16,fontFamily:"var(--mdc-typography-font-family, Roboto, sans-serif)"},title:{margin:"0 0 12px",fontSize:"1.1rem",color:"var(--primary-text-color, #e1e1e1)"},entity:{margin:"0 0 8px",fontSize:"0.9rem",color:"var(--secondary-text-color, #b0b0b0)"},hint:{margin:0,fontSize:"0.75rem",opacity:.8}},An="react-demo-card";window.customCards=window.customCards??[],window.customCards.push({type:"custom:"+An,name:"React Demo Card",description:"Beispiel-Card mit React/Preact in einer Web Component"});class En extends HTMLElement{constructor(){super(...arguments),this._config={type:""},this._hass=null,this._lastRenderedEntityState=null,this._lastRenderedEntityId=""}static getConfigElement(){return document.createElement("div")}static getStubConfig(){return{type:"custom:"+An,title:"React Demo",entity:"sensor.date"}}setConfig(t){this._config=t??{type:""},this._lastRenderedEntityId="",this._lastRenderedEntityState=null,this._hass&&this._maybeRender()}set hass(t){this._hass=t,this._maybeRender()}_maybeRender(){const t=this._hass,e=this._config.entity??"",n=e&&t?.states?.[e]?t.states[e].state??null:null;(!this.shadowRoot||this._lastRenderedEntityId!==e||this._lastRenderedEntityState!==n)&&(this._lastRenderedEntityId=e,this._lastRenderedEntityState=n,this._render())}_render(){if(!this._hass)return;this.shadowRoot||this.attachShadow({mode:"open"});const t=this.shadowRoot;en(ue($n,{hass:this._hass,config:this._config}),t)}getCardSize(){return 2}}customElements.define(An,En);